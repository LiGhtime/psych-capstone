function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{TDBs:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardPageModule",(function(){return W}));var o=n("c7TG"),i=n("ofXK"),r=n("3Pt+"),s=n("tyNb"),a=n("mrSG"),l=n("Xy44"),c=n("Bg0J"),d=n("PqYM"),b=n("fXoL");function f(e,t){1&e&&(b.Xb(0,"div",6),b.Vb(1,"ion-spinner",7),b.Wb())}function u(e,t){1&e&&(b.Xb(0,"div"),b.wc(1,"Pre-Assessment"),b.Wb())}function v(e,t){if(1&e&&(b.Xb(0,"div"),b.wc(1),b.Wb()),2&e){var n=b.hc(2);b.Kb(1),b.yc("Level ",n.level,"")}}function g(e,t){1&e&&(b.Xb(0,"div"),b.wc(1,"Post-Assessment"),b.Wb())}function y(e,t){1&e&&(b.Xb(0,"div"),b.wc(1,"Complete"),b.Wb())}function p(e,t){if(1&e&&(b.Xb(0,"div",12),b.Xb(1,"div",13),b.wc(2,"Today:"),b.Wb(),b.Xb(3,"div",14),b.Vb(4,"ion-progress-bar",15),b.Xb(5,"div",16),b.wc(6),b.Wb(),b.Wb(),b.Wb()),2&e){var n=b.hc(2);b.Kb(4),b.lc("value",n.progressToday),b.Kb(2),b.yc("",100*n.progressToday,"%")}}function h(e,t){if(1&e&&(b.Xb(0,"div",8),b.Xb(1,"div",9),b.vc(2,u,2,0,"div",10),b.vc(3,v,2,1,"div",10),b.vc(4,g,2,0,"div",10),b.vc(5,y,2,0,"div",10),b.Wb(),b.vc(6,p,7,2,"div",11),b.Xb(7,"div",12),b.Xb(8,"div",13),b.wc(9,"Overall:"),b.Wb(),b.Xb(10,"div",14),b.Vb(11,"ion-progress-bar",15),b.Xb(12,"div",16),b.wc(13),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",17),b.Xb(15,"ion-button",18),b.Xb(16,"ion-label",2),b.wc(17,"Train"),b.Wb(),b.Vb(18,"ion-icon",19),b.Wb(),b.Xb(19,"ion-button",20),b.Xb(20,"ion-label",2),b.wc(21,"History"),b.Wb(),b.Vb(22,"ion-icon",21),b.Wb(),b.Wb(),b.Wb()),2&e){var n=b.hc();b.Kb(2),b.kc("ngIf",0==n.level),b.Kb(1),b.kc("ngIf",n.level>0&&n.level<9),b.Kb(1),b.kc("ngIf",9==n.level),b.Kb(1),b.kc("ngIf",n.level>9),b.Kb(1),b.kc("ngIf",n.level>0&&n.level<9),b.Kb(5),b.lc("value",n.progressOverall),b.Kb(2),b.yc("",100*n.progressOverall,"%")}}var w,m,X=((m=function(){function e(t,n,o,i){_classCallCheck(this,e),this.getProgress=t,this.events=n,this.toastController=o,this.localNotifications=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.localNotifications.requestPermission()}},{key:"ionViewWillEnter",value:function(){var e=this;this.waitingForResponse=!0,Object(d.a)(1e3).subscribe((function(){e.getProgress.getData().subscribe((function(t){e.days=t.days,e.level=t.level;var n=(new Date).toLocaleDateString(),o="";for(var i in e.days)[e.days[i].nameface,e.days[i].whosnew,e.days[i].memory,e.days[i].shuffle,e.days[i].forcedchoice,e.days[i].samedifferent].indexOf(-1)<0&&(o=new Date(e.days[i].date).toLocaleDateString());e.level>0&&e.level<9&&(n==o?e.progressToday=1:(e.progressToday=0,e.days[e.level-1]&&(e.days[e.level-1].nameface>=6&&e.progressToday++,e.days[e.level-1].whosnew>=6&&e.progressToday++,e.days[e.level-1].memory>=24&&e.progressToday++,e.days[e.level-1].shuffle>=12&&e.progressToday++,e.days[e.level-1].forcedchoice>=6&&e.progressToday++,e.days[e.level-1].samedifferent>=6&&e.progressToday++),e.progressToday=parseFloat((e.progressToday/6).toFixed(2)))),e.progressOverall=e.level/10,e.waitingForResponse=!1}),(function(t){return Object(a.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"Something went wrong. Please try logging out and back in",color:"danger",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}))}))}}]),e}()).\u0275fac=function(e){return new(e||m)(b.Ub(l.a),b.Ub(o.c),b.Ub(o.P),b.Ub(c.a))},m.\u0275cmp=b.Ob({type:m,selectors:[["app-dashboard"]],decls:9,vars:3,consts:[[2,"--background","gray",3,"fullscreen"],[2,"border-bottom-width","medium","border-bottom-style","solid","border-bottom-color","dodgerblue"],["slot","start"],["autoHide","false"],["style","height: 90%; display: flex; justify-content: center; align-items: center",4,"ngIf"],["style","height: 90%; display: flex; flex-direction: column; justify-content: space-evenly; align-items: center",4,"ngIf"],[2,"height","90%","display","flex","justify-content","center","align-items","center"],["name","crescent","color","light"],[2,"height","90%","display","flex","flex-direction","column","justify-content","space-evenly","align-items","center"],[2,"color","white","font-size","11vw","width","100%","margin-left","10%"],[4,"ngIf"],["style","width: 100%; display: flex; justify-content: center; align-items: center",4,"ngIf"],[2,"width","100%","display","flex","justify-content","center","align-items","center"],[1,"subheader",2,"width","25%"],[2,"text-align","center","width","60%","margin-top","9%"],[2,"width","100%","margin","0 auto",3,"value"],[2,"color","white","margin-top","3%"],[2,"text-align","center","width","100%"],["color","success","routerLink","/train","routerDirection","forward"],["slot","end","name","fitness"],["color","primary","routerLink","/history","routerDirection","forward"],["slot","end","name","analytics"]],template:function(e,t){1&e&&(b.Xb(0,"ion-content",0),b.Xb(1,"ion-header"),b.Xb(2,"ion-toolbar",1),b.Xb(3,"ion-title"),b.wc(4,"Dashboard"),b.Wb(),b.Xb(5,"ion-buttons",2),b.Vb(6,"ion-menu-button",3),b.Wb(),b.Wb(),b.Wb(),b.vc(7,f,2,0,"div",4),b.vc(8,h,23,7,"div",5),b.Wb()),2&e&&(b.kc("fullscreen",!0),b.Kb(7),b.kc("ngIf",t.waitingForResponse),b.Kb(1),b.kc("ngIf",!t.waitingForResponse))},directives:[o.j,o.l,o.F,o.D,o.f,o.s,i.j,o.C,o.u,o.e,o.M,s.h,o.p,o.m],styles:["ion-button[_ngcontent-%COMP%]{font-size:150%;border-radius:10px;margin-top:3vh;height:20vh;width:95%}"]}),m),W=((w=function e(){_classCallCheck(this,e)}).\u0275mod=b.Sb({type:w}),w.\u0275inj=b.Rb({factory:function(e){return new(e||w)},providers:[c.a],imports:[[o.G,i.b,r.d,r.i,s.i.forChild([{path:"",component:X}])]]}),w)}}]);