function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{CKRj:function(e,t,i){"use strict";i.r(t),i.d(t,"TrainingPageModule",(function(){return Zi}));var n=i("c7TG"),s=i("tyNb"),c=i("ofXK"),r=i("3Pt+"),a=i("mrSG"),o=i("PqYM"),l=i("l5mm"),f=i("fXoL"),h=["slideElement"];function d(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",10),f.fc("click",(function(){return f.sc(i),f.hc().toggleOverview()})),f.Wb()}}var u=function(e){return{hidden:e}};function b(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",11),f.fc("click",(function(){return f.sc(i),f.hc().closeModal()})),f.Wb()}if(2&e){var n=f.hc();f.kc("ngClass",f.nc(1,u,n.hideQuit))}}function g(e,t){if(1&e&&(f.Xb(0,"ion-slide",12),f.Vb(1,"img",13),f.Xb(2,"div",14),f.wc(3),f.Wb(),f.Wb()),2&e){var i=t.$implicit;f.Kb(1),f.kc("src",i[0],f.tc),f.Kb(2),f.xc(i[1])}}function m(e,t){1&e&&f.Vb(0,"ion-icon",18)}function v(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",19),f.fc("click",(function(){f.sc(i);var e=f.hc().index;return f.hc(),f.rc(9).slideTo(e)})),f.Wb()}}function p(e,t){if(1&e&&(f.Xb(0,"span",15),f.vc(1,m,1,0,"ion-icon",16),f.vc(2,v,1,0,"ion-icon",17),f.Wb()),2&e){var i=t.index,n=f.hc();f.Kb(1),f.kc("ngIf",n.currentSlide==i),f.Kb(1),f.kc("ngIf",n.currentSlide!=i)}}var k,S={Start:[["assets/help-slides/start/0.png","Welcome to your CRD training. Please take a minute to review these slides and familiarize yourself with the training process."],["assets/help-slides/start/1.png","There are 8 levels to complete. You should complete one level per day, in about 10-15 minutes."],["assets/help-slides/start/2.png","In the learning task you will learn the day's names and faces, then you will use those faces to complete the challenges in the four training tasks."],["assets/help-slides/start/3.png","After passing the training tasks, you will complete two assessment tasks. Your level will increase after you finish."],["assets/help-slides/start/4.png","Before Level 1 and after Level 8 you will complete an additional assessment to estimate your overall progress."],["assets/help-slides/start/5.png","If you have questions about how to complete a task or what to do next, you can click the help icon in the upper-right corner."],["assets/help-slides/start/6.png","Your data will be used to further research of CRD and facial recognition. For more information about the research visit the About Us page."],["assets/help-slides/start/7.png","Should you need to review this information again, simply click the help icon in the upper right-hand corner of any help page."]],Overview:[["assets/help-slides/start/0.png","These slides will provide an overview of the training process."],["assets/help-slides/start/1.png","There are 8 levels to complete. You should complete one level per day, in about 10-15 minutes."],["assets/help-slides/start/2.png","In the learning task you will learn the day's names and faces, then you will use those faces to complete the challenges in the four training tasks."],["assets/help-slides/start/3.png","After passing the training tasks, you will complete two assessment tasks. Your level will increase after you finish."],["assets/help-slides/start/4.png","Before Level 1 and after Level 8 you will complete an additional assessment to estimate your overall progress."],["assets/help-slides/start/5.png","If you have questions about how to complete a task or what to do next, you can click the help icon in the upper-right corner."],["assets/help-slides/start/6.png","Your data will be used to further research of CRD and facial recognition. For more information about the research visit the About Us page."]],"Meet Today's Faces":[["assets/help-slides/learning/0.png","Memorize the eight name-face pairs you are shown; they will be the basis of your daily training."],["assets/help-slides/learning/1.png","You can come back to this module at any time after finishing."]],"Name and Face":[["assets/help-slides/name-face/0.png","For each of the names you've seen before, you'll be asked to match the appropriate face."],["assets/help-slides/name-face/1.png","You'll get a point for each face you match correctly."],["assets/help-slides/name-face/2.png","Whenever you guess incorrectly, you'll be shown the correct answer as well as the two names."]],"Who's New?":[["assets/help-slides/whos-new/0.png","Select the face that you haven't yet seen today, and that wasn't part of the learning task."],["assets/help-slides/whos-new/1.png","You'll get a point for each face you guess correctly."],["assets/help-slides/whos-new/2.png","Whenever you guess incorrectly, you'll be shown the correct answer."]],"Memory Match":[["assets/help-slides/memory-match/0.png","Tap to show the faces and begin the timer."],["assets/help-slides/memory-match/1.png","You will have 10 seconds to memorize the placement of as many face pairs as you can."],["assets/help-slides/memory-match/2.png","After the timer is up, click the cards to match the pairs. When you correctly match a pair, they will be revealed."],["assets/help-slides/memory-match/3.png","Correct matches award 4 points, while incorrect matches deduct 1 point."]],Shuffle:[["assets/help-slides/shuffle/0.png","Tap to show the faces and begin the timer."],["assets/help-slides/shuffle/1.png","You will have 10 seconds to memorize the placement of the faces."],["assets/help-slides/shuffle/2.png","After the timer is up, click cards to swap their positions. Tap 'Done' when you think the positions are correct."],["assets/help-slides/shuffle/3.png","For an incorrect solution, incorrect cards will be colored red. You will be awarded a point for each correct card."],["assets/help-slides/shuffle/4.png","You can toggle between your solution and the correct solution with the toggle at the bottom."]],"Forced Choice":[["assets/help-slides/forced-choice/0.png","Tap to show the face and begin the timer."],["assets/help-slides/forced-choice/1.png","You will have 3 seconds to memorize the face."],["assets/help-slides/forced-choice/2.png","After the timer is up select the face that you saw."],["assets/help-slides/forced-choice/3.png","You will receive a point for each correct answer."]],"Same-Different":[["assets/help-slides/same-different/0.png","Tap to show the face and begin the timer."],["assets/help-slides/same-different/1.png","You will have 3 seconds to memorize the face."],["assets/help-slides/same-different/2.png","After the timer is up, decide whether the face is the same."],["assets/help-slides/same-different/3.png","You will receive a point for each correct answer."]],"Training Tasks":[["assets/help-slides/training/0.png","Welcome to the training tasks. You can revisit the learning task however often you need with the bottom left-hand button."],["assets/help-slides/training/1.png","When you complete a task, you can see your highest score. You must get at least 75% to pass each task, and can do them any number of times."],["assets/help-slides/training/2.png","After passing every task, you can progress to the daily assessment tasks with the bottom right-hand button. You will not be able to come back today after moving on."]],"Assessment Tasks":[["assets/help-slides/assessment/0.png","The daily assessment tasks track your learning progress. You cannot redo them."]],Finish:[["assets/help-slides/finish/0.png","You are done for the day, come back tomorrow for your next training. You can see your training history on the history page."]],"Pre-Assessment":[["assets/help-slides/pre-post/0.png","Welcome to your pre-assessment. This is a one-time test; it will provide a baseline for your current CRD."],["assets/help-slides/same-different/0.png","Tap to show the face and begin the timer."],["assets/help-slides/same-different/1.png","You will have 3 seconds to memorize the face."],["assets/help-slides/same-different/2.png","After the timer is up, decide whether the face is the same."],["assets/help-slides/pre-post/1.png","This test consists of 30 questions, so set aside a few minutes to complete it."],["assets/help-slides/finish/0.png","When you have finished you can officially begin your training in Level 1."]],"Post-Assessment":[["assets/help-slides/pre-post/0.png","Welcome to your post-assessment. This is your final test; after this, your participation in this research will be complete."],["assets/help-slides/pre-post/1.png","This test consists of 30 questions, so set aside a few minutes to complete it."]]},O=((k=function(){function e(t,i){_classCallCheck(this,e),this.modalController=t,this.navParams=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.task=this.navParams.data.paramTask,this.displayFirst=this.navParams.data.displayFirst,this.slides=S[this.task],this.currentSlide=0,this.showOverview=!1;for(var e=[],t=0;t<this.slides.length;t++)e.push(new Image),e[e.length-1].src=this.slides[t][0];this.hideQuit=!1,this.displayFirst&&this.slides.length>1&&(this.hideQuit=!0)}},{key:"closeModal",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.dismiss();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"changeSlide",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.slideElement.getActiveIndex();case 2:this.currentSlide=e.sent,this.currentSlide==this.slides.length-1&&(this.hideQuit=!1);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"toggleOverview",value:function(){if(this.slideElement.slideTo(0),this.showOverview)this.showOverview=!1,this.ngOnInit();else{this.showOverview=!0,this.task="Overview",this.slides=S[this.task];for(var e=[],t=0;t<this.slides.length;t++)e.push(new Image),e[e.length-1].src=this.slides[t][0]}}}]),e}()).\u0275fac=function(e){return new(e||k)(f.Ub(n.I),f.Ub(n.J))},k.\u0275cmp=f.Ob({type:k,selectors:[["app-help-modal"]],viewQuery:function(e,t){var i;1&e&&f.Bc(h,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{firstDisplayed:"firstDisplayed"},decls:13,vars:8,consts:[[2,"--background","dodgerblue","--color","white",3,"swipedown"],["lines","none",2,"font-size","3vh","margin-top","5%","text-align","center","--background","dodgerblue","--color","white"],["slot","start","color","dark","name","arrow-back","style","height: 3vh",3,"click",4,"ngIf"],["slot","end","color","dark","name","help-circle",2,"height","3vh",3,"ngClass","click"],["slot","start","color","dark","name","close-circle","style","margin-right: 10px; height: 3vh",3,"ngClass","click",4,"ngIf"],[2,"height","80%",3,"ionSlideWillChange"],["slideElement",""],["style","height: 100%; width: 100%; display: flex; flex-direction: column; justify-content: space-evenly; padding-left: 5%; padding-right: 5%",4,"ngFor","ngForOf"],[2,"text-align","center","font-size","3vh"],["style","margin: 0 auto",4,"ngFor","ngForOf"],["slot","start","color","dark","name","arrow-back",2,"height","3vh",3,"click"],["slot","start","color","dark","name","close-circle",2,"margin-right","10px","height","3vh",3,"ngClass","click"],[2,"height","100%","width","100%","display","flex","flex-direction","column","justify-content","space-evenly","padding-left","5%","padding-right","5%"],[3,"src"],[2,"display","flex","align-items","center","flex-shrink","2","margin-left","5%","margin-right","5%","font-size","5vw"],[2,"margin","0 auto"],["color","dark","name","radio-button-on",4,"ngIf"],["color","dark","name","radio-button-off",3,"click",4,"ngIf"],["color","dark","name","radio-button-on"],["color","dark","name","radio-button-off",3,"click"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.fc("swipedown",(function(){return t.closeModal()})),f.Xb(1,"ion-item",1),f.Xb(2,"ion-label"),f.Xb(3,"b"),f.wc(4),f.Wb(),f.Wb(),f.vc(5,d,1,0,"ion-icon",2),f.Xb(6,"ion-icon",3),f.fc("click",(function(){return t.toggleOverview()})),f.Wb(),f.vc(7,b,1,3,"ion-icon",4),f.Wb(),f.Xb(8,"ion-slides",5,6),f.fc("ionSlideWillChange",(function(){return t.changeSlide()})),f.vc(10,g,4,2,"ion-slide",7),f.Wb(),f.Xb(11,"div",8),f.vc(12,p,3,2,"span",9),f.Wb(),f.Wb()),2&e&&(f.Kb(4),f.xc(t.task),f.Kb(1),f.kc("ngIf",t.showOverview),f.Kb(1),f.kc("ngClass",f.nc(6,u,"Start"==t.task||"Overview"==t.task||t.hideQuit)),f.Kb(1),f.kc("ngIf",!t.showOverview),f.Kb(3),f.kc("ngForOf",t.slides),f.Kb(2),f.kc("ngForOf",t.slides))},directives:[n.j,n.o,n.p,c.j,n.m,c.h,n.B,c.i,n.A],styles:["ion-item[_ngcontent-%COMP%]{--background:#1e90ff}div[_ngcontent-%COMP%]{color:#fff;text-align:center}img[_ngcontent-%COMP%]{height:55vh;width:auto;margin:0 auto;border-radius:5%}.hidden[_ngcontent-%COMP%]{visibility:hidden}"]}),k),w=i("l7GE"),I=i("ZUHj");function y(e){return function(t){return t.lift(new E(e))}}var C,E=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var i=new T(e),n=Object(I.a)(i,this.notifier);return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}]),e}(),T=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).seenValue=!1,n}return _createClass(i,[{key:"notifyNext",value:function(e,t,i,n,s){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),i}(w.a),R=i("MTcp"),F=i("Xy44"),W=i("tk/3"),x=((C=function(){function e(t){_classCallCheck(this,e),this.http=t,this.scores_url="https://crossfacerecognition.herokuapp.com/tasks/",this.pre_url="https://crossfacerecognition.herokuapp.com/preassessment/",this.post_url="https://crossfacerecognition.herokuapp.com/postassessment/",this.shuffle=0,this.memory=0,this.whosnew=0,this.nameface=0,this.forcedchoice=0,this.samedifferent=0,this.pre_score=0,this.post_score=0}return _createClass(e,[{key:"setScores",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Black";return new Promise((function(s,c){i.level=e,i.race=n,i.nameface=t[0],i.whosnew=t[1],i.memory=t[2],i.shuffle=t[3],i.forcedchoice=t[4],i.samedifferent=t[5],i.body={level:i.level,race:i.race,shuffle:i.shuffle,memory:i.memory,whosnew:i.whosnew,nameface:i.nameface,forcedchoice:i.forcedchoice,samedifferent:i.samedifferent},s()}))}},{key:"putScores",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Black";return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},n.next=3,this.setScores(e,t,i);case 3:console.log("Sent: ",JSON.stringify(this.body)),this.http.post(this.scores_url,this.body,s).subscribe((function(e){console.log("Response: ",e)}),(function(e){console.log("Error: ",e)}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"submitTaskScores",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Black";this.putScores(e,t,i)}},{key:"setPre",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Black";return new Promise((function(n,s){t.pre_score=e,t.race=i,t.body={score:t.pre_score,race:t.race},n()}))}},{key:"submitPreAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Black";return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},i.next=3,this.setPre(e,t);case 3:console.log("Sent to pre: ",JSON.stringify(this.body)),this.http.put(this.pre_url,this.body,n).subscribe((function(e){console.log("Response: ",e),console.log("status: ",e.status)}),(function(e){console.log("Error: ",e)}));case 5:case"end":return i.stop()}}),i,this)})))}},{key:"setPost",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Black";return new Promise((function(n,s){t.post_score=e,t.race=i,t.body={score:t.post_score,race:t.race},n()}))}},{key:"submitPostAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Black";return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},i.next=3,this.setPost(e,t);case 3:console.log("Sent to post: ",JSON.stringify(this.body)),this.http.put(this.post_url,this.body,n).subscribe((function(e){console.log("Response: ",e),console.log("status: ",e.status)}),(function(e){console.log("Error: ",e)}));case 5:case"end":return i.stop()}}),i,this)})))}}]),e}()).\u0275fac=function(e){return new(e||C)(f.bc(W.a))},C.\u0275prov=f.Qb({token:C,factory:C.\u0275fac,providedIn:"root"}),C),j=i("Bg0J"),X=i("R0Ic"),M=function(e){return{opacity:e}};function K(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-slide",10),f.Xb(1,"ion-card",11),f.Xb(2,"ion-icon",12),f.fc("click",(function(){return f.sc(i),f.hc(),f.rc(6).slidePrev()})),f.Wb(),f.Xb(3,"div"),f.Xb(4,"div",13),f.Vb(5,"img",14),f.Wb(),f.Xb(6,"div",15),f.Xb(7,"div",16),f.Xb(8,"p",17),f.wc(9),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(10,"ion-icon",18),f.fc("click",(function(){return f.sc(i),f.hc(),f.rc(6).slideNext()})),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.$implicit,s=t.index,c=f.hc();f.Kb(2),f.kc("ngStyle",f.nc(4,M,0==c.progress?"0.2":"1")),f.Kb(3),f.kc("src",n,f.tc),f.Kb(4),f.xc(c.setNames[s]),f.Kb(1),f.kc("ngStyle",f.nc(6,M,c.progress==c.facePaths.length-1?"0.2":"1"))}}function A(e,t){1&e&&(f.Xb(0,"ion-button",19),f.wc(1,"Finish"),f.Wb())}function P(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-button",20),f.fc("click",(function(){return f.sc(i),f.hc().finished.emit()})),f.wc(1,"Finish"),f.Wb()}}var L,N=((L=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.progress=0,this.progressPercent=0,this.seenAll=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"changeCard",value:function(e){"next"==e?this.progress++:this.progress--,this.seenAll||(this.progressPercent=this.progress/(this.facePaths.length-1)),7==this.progress&&(this.seenAll=!0)}}]),e}()).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=f.Ob({type:L,selectors:[["app-learning-task"]],inputs:{setNames:"setNames",facePaths:"facePaths"},outputs:{finished:"finished"},decls:11,vars:4,consts:[["id","learningView"],[2,"margin-top","0px",3,"value"],[1,"flex-slide"],[2,"font-size","7vw","color","white","text-align","center","margin-top","5%"],[2,"width","100%",3,"ionSlideNextStart","ionSlidePrevStart"],["slideElement",""],["style","text-align: center",4,"ngFor","ngForOf"],[2,"text-align","center","height","7%","margin-bottom","5%"],["color","success","style","height: 100%","disabled","",4,"ngIf"],["color","success","style","height: 100%",3,"click",4,"ngIf"],[2,"text-align","center"],[2,"display","flex","justify-content","center","align-items","center"],["color","dark","name","arrow-back",2,"margin-right","calc((100% - 220px) / 2)","font-size","150%",3,"ngStyle","click"],[1,"imgContainer"],["id","faceImg",3,"src"],[1,"nameContainer"],["id","nameDisplay"],["id","nameText"],["color","dark","name","arrow-forward",2,"margin-left","calc((100% - 220px) / 2)","font-size","150%",3,"ngStyle","click"],["color","success","disabled","",2,"height","100%"],["color","success",2,"height","100%",3,"click"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.wc(4,"Memorize the faces and names"),f.Wb(),f.Xb(5,"ion-slides",4,5),f.fc("ionSlideNextStart",(function(){return t.changeCard("next")}))("ionSlidePrevStart",(function(){return t.changeCard("back")})),f.vc(7,K,11,8,"ion-slide",6),f.Wb(),f.Xb(8,"div",7),f.vc(9,A,2,0,"ion-button",8),f.vc(10,P,2,0,"ion-button",9),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Kb(1),f.lc("value",t.progressPercent),f.Kb(6),f.kc("ngForOf",t.facePaths),f.Kb(2),f.kc("ngIf",!t.seenAll),f.Kb(1),f.kc("ngIf",t.seenAll))},directives:[n.j,n.u,n.B,c.i,c.j,n.A,n.g,n.m,c.k,n.e],styles:["#learningView[_ngcontent-%COMP%]{--background:grey}ion-card[_ngcontent-%COMP%]{width:90%;height:auto;text-align:center;border-radius:2%;box-shadow:6px 4px 5px rgba(0,0,0,.7);display:block;margin-left:auto;margin-right:auto;margin-bottom:5px;background-color:#dcdcdc}ion-button[_ngcontent-%COMP%]{width:80%;height:100%;padding:0;margin:5px}ion-icon[_ngcontent-%COMP%]{font-size:100%}.imgContainer[_ngcontent-%COMP%]{height:230px;width:auto;text-align:center!important;display:flex;flex-direction:column;justify-content:center}#faceImg[_ngcontent-%COMP%]{margin:0 auto;height:210px;width:160px;display:inline-block}.nameContainer[_ngcontent-%COMP%]{height:70px;width:100%;margin-bottom:10px;background-image:url(nametag.9fffc7bfd1a8708802bc.png);background-position:50%;background-size:auto 100%;background-repeat:no-repeat}.nameContainer[_ngcontent-%COMP%]   #nameDisplay[_ngcontent-%COMP%]{height:100%;position:relative}.nameContainer[_ngcontent-%COMP%]   #nameDisplay[_ngcontent-%COMP%]   #nameText[_ngcontent-%COMP%]{color:#1e90ff;font-weight:700;font-size:large;margin:5px;position:absolute;left:50%;transform:translate(-55%);bottom:15%}"]}),L);function Y(e,t){if(1&e&&(f.Xb(0,"div",5),f.wc(1),f.Wb()),2&e){var i=f.hc();f.Kb(1),f.Ac("You need a score of at least ",i.length*i.minTrainScore,"/",i.length," (",100*i.minTrainScore,"%) to pass this module")}}function _(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-button",6),f.fc("click",(function(){return f.sc(i),f.hc().finished.emit(0)})),f.wc(1,"Retry"),f.Wb()}}function D(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-button",6),f.fc("click",(function(){return f.sc(i),f.hc().finished.emit(1)})),f.Vb(1,"ion-icon",7),f.wc(2," \xa0 "),f.Vb(3,"ion-icon",7),f.Wb()}if(2&e){var n=f.hc();f.Kb(1),f.kc("src",n.replay_icon),f.Kb(2),f.kc("src",n.face_icon)}}var V,z=((V=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.minTrainScore=.75,this.replay_icon="assets/icon/replay.svg",this.face_icon="assets/icon/face.svg"}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"failed",value:function(){return this.score<this.length*this.minTrainScore&&!this.assessment}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=f.Ob({type:V,selectors:[["app-score-page"]],inputs:{score:"score",length:"length",assessment:"assessment"},outputs:{finished:"finished"},decls:10,vars:6,consts:[[1,"flex-slide"],[1,"header"],["class","subheader","style","margin: 5%",4,"ngIf"],[3,"click",4,"ngIf"],[3,"color","click"],[1,"subheader",2,"margin","5%"],[3,"click"],[3,"src"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div"),f.Xb(2,"div",1),f.wc(3),f.Wb(),f.vc(4,Y,2,3,"div",2),f.vc(5,_,2,0,"ion-button",3),f.vc(6,D,4,2,"ion-button",3),f.Vb(7,"br"),f.Xb(8,"ion-button",4),f.fc("click",(function(){return t.finished.emit(2)})),f.wc(9,"Finish"),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Kb(3),f.zc("Your score: ",t.score,"/",t.length,""),f.Kb(1),f.kc("ngIf",t.failed()),f.Kb(1),f.kc("ngIf",t.failed()),f.Kb(1),f.kc("ngIf",t.failed()),f.Kb(2),f.kc("color",t.failed()?"danger":"success"))},directives:[c.j,n.e,n.m],styles:["ion-button[_ngcontent-%COMP%]{height:8vh}"]}),V),H=["slideElement"];function B(e,t){if(1&e&&(f.Xb(0,"span"),f.Xb(1,"div",7),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",8),f.wc(5,"+1"),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(3),f.zc("Score: ",i.score,"/",i.progressPercent*i.taskLength,"")}}function U(e,t){if(1&e&&(f.Xb(0,"div",16),f.wc(1,"Who is "),f.Xb(2,"b"),f.wc(3),f.Wb(),f.wc(4,"?"),f.Wb()),2&e){var i=f.hc().index,n=f.hc();f.Kb(3),f.xc(n.slideInfo[i].correctName)}}function q(e,t){1&e&&(f.Xb(0,"div",16),f.wc(1,"Correct!"),f.Wb())}function Z(e,t){1&e&&(f.Xb(0,"div",16),f.wc(1,"Incorrect!"),f.Wb())}function G(e,t){if(1&e&&f.Vb(0,"img",21),2&e){var i=f.hc().index,n=f.hc().index,s=f.hc();f.kc("src",s.slideInfo[n].faces[i],f.tc)}}var J=function(e,t){return{"selected-wrong-card":e,"disabled-card":t}};function Q(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",17),f.Xb(1,"ion-card",18),f.fc("click",(function(){f.sc(i);var e=t.index,n=f.hc().index,s=f.hc();return s.selectFace(s.slideInfo[n].faces[e])})),f.vc(2,G,1,1,"img",19),f.Wb(),f.Xb(3,"div",20),f.wc(4),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc().index,c=f.hc();f.Kb(1),f.kc("button",!c.showFeedback())("ngClass",f.oc(4,J,c.showSelected(n)&&s==c.currentSlide,c.showDisabled(n)&&s==c.currentSlide)),f.Kb(1),f.kc("ngIf",s<=c.currentSlide),f.Kb(2),f.xc(s==c.currentSlide?c.getName(n):"")}}function $(e,t){if(1&e&&f.Vb(0,"img",21),2&e){var i=f.hc().index,n=f.hc().index,s=f.hc();f.kc("src",s.slideInfo[n].faces[i+3],f.tc)}}function ee(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",17),f.Xb(1,"ion-card",18),f.fc("click",(function(){f.sc(i);var e=t.index,n=f.hc().index,s=f.hc();return s.selectFace(s.slideInfo[n].faces[e+3])})),f.vc(2,$,1,1,"img",19),f.Wb(),f.Xb(3,"div",20),f.wc(4),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc().index,c=f.hc();f.Kb(1),f.kc("button",!c.showFeedback())("ngClass",f.oc(4,J,c.showSelected(n+3)&&s==c.currentSlide,c.showDisabled(n+3)&&s==c.currentSlide)),f.Kb(1),f.kc("ngIf",s<=c.currentSlide),f.Kb(2),f.xc(s==c.currentSlide?c.getName(n+3):"")}}var te=function(){return[]};function ie(e,t){if(1&e&&(f.Xb(0,"ion-slide"),f.Xb(1,"div",9),f.vc(2,U,5,1,"div",10),f.vc(3,q,2,0,"div",10),f.vc(4,Z,2,0,"div",10),f.Xb(5,"div"),f.Xb(6,"div",11),f.vc(7,Q,5,7,"div",12),f.Wb(),f.Xb(8,"div",13),f.vc(9,ee,5,7,"div",12),f.Wb(),f.Wb(),f.Xb(10,"ion-item",14),f.Xb(11,"ion-label"),f.wc(12,"Swipe to Continue"),f.Wb(),f.Vb(13,"ion-icon",15),f.Wb(),f.Wb(),f.Wb()),2&e){var i=t.index,n=f.hc();f.Kb(2),f.kc("ngIf",i!=n.currentSlide||!n.showFeedback()),f.Kb(1),f.kc("ngIf",n.showFeedback()&&n.slideInfo[i].stage==n.Stage.CORRECT),f.Kb(1),f.kc("ngIf",n.showFeedback()&&n.slideInfo[i].stage==n.Stage.INCORRECT),f.Kb(3),f.kc("ngForOf",f.mc(6,te).constructor(3)),f.Kb(2),f.kc("ngForOf",f.mc(7,te).constructor(3)),f.Kb(1),f.kc("@fadeFooter",n.showFeedback()?"visible":"invisible")}}var ne,se=function(e,t,i){return{default:e,success:t,failure:i}},ce=function(e){return e[e.SELECT=0]="SELECT",e[e.CORRECT=1]="CORRECT",e[e.INCORRECT=2]="INCORRECT",e}({}),re=((ne=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.Stage=ce,this.numberOfOptions=6}return _createClass(e,[{key:"ngOnInit",value:function(){this.score=0,this.currentSlide=0,this.progressPercent=0,this.changeScore=Object(R.h)(),this.taskLength=this.facePaths.length,this.shuffledNames=[];for(var e=0;e<this.taskLength;e++)this.shuffledNames.push(this.setNames[e]);for(var t=this.taskLength-1;t>0;t-=1){var i=Math.floor(Math.random()*(t+1)),n=this.shuffledNames[t];this.shuffledNames[t]=this.shuffledNames[i],this.shuffledNames[i]=n}this.slideInfo=[];for(var s=0;s<this.taskLength;s++)this.slideInfo.push({correctName:this.shuffledNames[s],correctFace:this.facePaths[this.setNames.indexOf(this.shuffledNames[s])],selectedFace:null,faces:this.getSlideFaces(s),stage:ce.SELECT})}},{key:"ngAfterViewInit",value:function(){this.slideElement.lockSwipes(!0)}},{key:"finish",value:function(e){this.finished.emit([this.score,e]),0==e&&(this.ngOnInit(),this.slideElement.lockSwipes(!1),this.slideElement.slideTo(0),this.slideElement.lockSwipes(!0))}},{key:"selectFace",value:function(e){this.slideInfo[this.currentSlide].stage==ce.SELECT&&(this.slideInfo[this.currentSlide].selectedFace=e,e==this.slideInfo[this.currentSlide].correctFace?(this.score++,this.slideInfo[this.currentSlide].stage=ce.CORRECT,this.changeScore=Object(R.h)().addElement(document.querySelectorAll(".score-change")).fill("none").duration(2e3).keyframes([{offset:0,transform:"translateY(0%)"},{offset:.05,transform:"translateY(100%)"},{offset:.1,transform:"translateY(200%)"},{offset:.3,transform:"translateY(200%)"},{offset:.5,transform:"translateY(200%)"},{offset:.7,transform:"translateY(200%)"},{offset:.9,transform:"translateY(200%)"},{offset:.95,transform:"translateY(100%)"},{offset:1,transform:"translateY(0%)"}]),this.changeScore.play()):this.slideInfo[this.currentSlide].stage=ce.INCORRECT,this.progressPercent=(this.currentSlide+1)/this.taskLength,this.slideElement.lockSwipes(!1),this.slideElement.lockSwipeToPrev(!0))}},{key:"getSlideFaces",value:function(e){for(var t=[],i=0;i<this.numberOfOptions-1;i++){for(var n=Math.floor(Math.random()*this.taskLength);t.indexOf(this.facePaths[n])>-1||this.facePaths[n]==this.facePaths[this.setNames.indexOf(this.shuffledNames[e])];)n=Math.floor(Math.random()*this.taskLength);t.push(this.facePaths[n])}var s=Math.floor(Math.random()*this.numberOfOptions);return t.splice(s,0,this.facePaths[this.setNames.indexOf(this.shuffledNames[e])]),t}},{key:"showDisabled",value:function(e){return this.showFeedback()&&this.slideInfo[this.currentSlide].correctFace!=this.slideInfo[this.currentSlide].faces[e]}},{key:"showSelected",value:function(e){return this.showFeedback()&&this.slideInfo[this.currentSlide].faces[e]!=this.slideInfo[this.currentSlide].correctFace&&this.slideInfo[this.currentSlide].faces[e]==this.slideInfo[this.currentSlide].selectedFace}},{key:"getName",value:function(e){return!this.showFeedback()||this.showDisabled(e)&&!this.showSelected(e)?"  ":this.setNames[this.facePaths.indexOf(this.slideInfo[this.currentSlide].faces[e])]}},{key:"showFeedback",value:function(){return!this.scoreCardDisplayed()&&(this.slideInfo[this.currentSlide].stage==ce.CORRECT||this.slideInfo[this.currentSlide].stage==ce.INCORRECT)}},{key:"scoreCardDisplayed",value:function(){return this.currentSlide>=this.taskLength}},{key:"changeSlide",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.slideElement.getActiveIndex();case 2:if(e.t0=e.sent,e.t1=this.currentSlide,e.t2=e.t0>e.t1,!e.t2){e.next=13;break}return e.next=8,this.slideElement.getActiveIndex();case 8:return this.currentSlide=e.sent,e.next=11,this.slideElement.lockSwipes(!0);case 11:return e.next=13,this.changeScore.stop();case 13:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||ne)},ne.\u0275cmp=f.Ob({type:ne,selectors:[["app-name-face"]],viewQuery:function(e,t){var i;1&e&&f.Bc(H,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{setNames:"setNames",facePaths:"facePaths"},outputs:{finished:"finished"},decls:8,vars:11,consts:[[3,"ngClass"],[2,"margin-top","0px",3,"value"],[4,"ngIf"],[3,"ionSlideDidChange"],["slideElement",""],[4,"ngFor","ngForOf"],[3,"score","length","assessment","finished"],[1,"score-banner"],[1,"score-change"],[1,"flex-slide"],["class","prompt",4,"ngIf"],[2,"display","flex","justify-content","center"],["style","margin-left: 10px; margin-right: 10px",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","margin-top","10px"],["lines","none",1,"footer"],["slot","end","color","medium","name","arrow-back",2,"margin-top","10px"],[1,"prompt"],[2,"margin-left","10px","margin-right","10px"],[1,"grid-card",3,"button","ngClass","click"],[3,"src",4,"ngIf"],[2,"height","25px","color","white"],[3,"src"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.vc(2,B,6,2,"span",2),f.Xb(3,"ion-slides",3,4),f.fc("ionSlideDidChange",(function(){return t.changeSlide()})),f.vc(5,ie,14,8,"ion-slide",5),f.Xb(6,"ion-slide"),f.Xb(7,"app-score-page",6),f.fc("finished",(function(e){return t.finish(e)})),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.kc("ngClass",f.pc(7,se,!t.showFeedback(),t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.CORRECT,t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.INCORRECT)),f.Kb(1),f.lc("value",t.progressPercent),f.Kb(1),f.kc("ngIf",!t.scoreCardDisplayed()),f.Kb(3),f.kc("ngForOf",t.slideInfo),f.Kb(2),f.kc("score",t.score)("length",t.taskLength)("assessment",!1))},directives:[n.j,c.h,n.u,c.j,n.B,c.i,n.A,z,n.o,n.p,n.m,n.g],styles:["ion-card[_ngcontent-%COMP%]{text-align:center;height:110px;width:80px;margin:0}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:75px;margin-left:3px;margin-top:5px}"],data:{animation:[Object(X.k)("fadeFooter",[Object(X.h)("visible",Object(X.i)({opacity:.75})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)("invisible => visible",[Object(X.e)(1500,Object(X.f)([Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:".75"})]))]),Object(X.j)("visible => invisible",[Object(X.e)(200)])])]}}),ne),ae=["slideElement"];function oe(e,t){if(1&e&&(f.Xb(0,"span"),f.Xb(1,"div",7),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",8),f.wc(5,"+1"),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(3),f.zc("Score: ",i.score,"/",i.progressPercent*i.taskLength,"")}}function le(e,t){1&e&&(f.Xb(0,"div",15),f.wc(1,"Who didn't you see today?"),f.Wb())}function fe(e,t){1&e&&(f.Xb(0,"div",15),f.wc(1,"Correct!"),f.Wb())}function he(e,t){1&e&&(f.Xb(0,"div",15),f.wc(1,"Incorrect!"),f.Wb())}function de(e,t){if(1&e&&f.Vb(0,"img",16),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.slideInfo[i].faces[0],f.tc)}}function ue(e,t){if(1&e&&f.Vb(0,"img",16),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.slideInfo[i].faces[1],f.tc)}}function be(e,t){if(1&e&&f.Vb(0,"img",16),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.slideInfo[i].faces[2],f.tc)}}function ge(e,t){if(1&e&&f.Vb(0,"img",16),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.slideInfo[i].faces[3],f.tc)}}var me=function(e,t){return{"selected-wrong-card":e,"disabled-card":t}};function ve(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-slide"),f.Xb(1,"div",9),f.vc(2,le,2,0,"div",10),f.vc(3,fe,2,0,"div",10),f.vc(4,he,2,0,"div",10),f.Xb(5,"div"),f.Xb(6,"div"),f.Xb(7,"ion-card",11),f.fc("click",(function(){f.sc(i);var e=t.index,n=f.hc();return n.selectFace(n.slideInfo[e].faces[0])})),f.vc(8,de,1,1,"img",12),f.Wb(),f.Xb(9,"ion-card",11),f.fc("click",(function(){f.sc(i);var e=t.index,n=f.hc();return n.selectFace(n.slideInfo[e].faces[1])})),f.vc(10,ue,1,1,"img",12),f.Wb(),f.Wb(),f.Xb(11,"div"),f.Xb(12,"ion-card",11),f.fc("click",(function(){f.sc(i);var e=t.index,n=f.hc();return n.selectFace(n.slideInfo[e].faces[2])})),f.vc(13,be,1,1,"img",12),f.Wb(),f.Xb(14,"ion-card",11),f.fc("click",(function(){f.sc(i);var e=t.index,n=f.hc();return n.selectFace(n.slideInfo[e].faces[3])})),f.vc(15,ge,1,1,"img",12),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"ion-item",13),f.Xb(17,"ion-label"),f.wc(18,"Swipe to Continue"),f.Wb(),f.Vb(19,"ion-icon",14),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc();f.Kb(2),f.kc("ngIf",n!=s.currentSlide||!s.showFeedback()),f.Kb(1),f.kc("ngIf",s.showFeedback()&&s.slideInfo[n].stage==s.Stage.CORRECT),f.Kb(1),f.kc("ngIf",s.showFeedback()&&s.slideInfo[n].stage==s.Stage.INCORRECT),f.Kb(3),f.kc("button",!s.showFeedback())("ngClass",f.oc(16,me,s.showSelected(0)&&n==s.currentSlide,s.showDisabled(0)&&n==s.currentSlide)),f.Kb(1),f.kc("ngIf",n<=s.currentSlide),f.Kb(1),f.kc("button",!s.showFeedback())("ngClass",f.oc(19,me,s.showSelected(1)&&n==s.currentSlide,s.showDisabled(1)&&n==s.currentSlide)),f.Kb(1),f.kc("ngIf",n<=s.currentSlide),f.Kb(2),f.kc("button",!s.showFeedback())("ngClass",f.oc(22,me,s.showSelected(2)&&n==s.currentSlide,s.showDisabled(2)&&n==s.currentSlide)),f.Kb(1),f.kc("ngIf",n<=s.currentSlide),f.Kb(1),f.kc("button",!s.showFeedback())("ngClass",f.oc(25,me,s.showSelected(3)&&n==s.currentSlide,s.showDisabled(3)&&n==s.currentSlide)),f.Kb(1),f.kc("ngIf",n<=s.currentSlide),f.Kb(1),f.kc("@fadeFooter",s.showFeedback()?"visible":"invisible")}}var pe,ke=function(e,t,i){return{default:e,success:t,failure:i}},Se=function(e){return e[e.SELECT=0]="SELECT",e[e.CORRECT=1]="CORRECT",e[e.INCORRECT=2]="INCORRECT",e}({}),Oe=((pe=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.Stage=Se,this.numberOfOptions=4}return _createClass(e,[{key:"ngOnInit",value:function(){this.score=0,this.currentSlide=0,this.progressPercent=0,this.changeScore=Object(R.h)(),this.taskLength=this.newFacePaths.length,this.shuffledFaces=[];for(var e=0;e<this.taskLength;e++)this.shuffledFaces.push(this.newFacePaths[e]);for(var t=this.taskLength-1;t>0;t-=1){var i=Math.floor(Math.random()*(t+1)),n=this.shuffledFaces[t];this.shuffledFaces[t]=this.shuffledFaces[i],this.shuffledFaces[i]=n}this.slideInfo=[];for(var s=0;s<this.taskLength;s++)this.slideInfo.push({correctFace:this.shuffledFaces[s],selectedFace:null,faces:this.getSlideFaces(s),stage:Se.SELECT})}},{key:"ngAfterViewInit",value:function(){this.slideElement.lockSwipes(!0)}},{key:"finish",value:function(e){this.finished.emit([this.score,e]),0==e&&(this.ngOnInit(),this.slideElement.lockSwipes(!1),this.slideElement.slideTo(0),this.slideElement.lockSwipes(!0))}},{key:"selectFace",value:function(e){this.slideInfo[this.currentSlide].stage==Se.SELECT&&(this.slideInfo[this.currentSlide].selectedFace=e,e==this.slideInfo[this.currentSlide].correctFace?(this.score++,this.slideInfo[this.currentSlide].stage=Se.CORRECT,this.changeScore=Object(R.h)().addElement(document.querySelectorAll(".score-change")).fill("none").duration(2e3).keyframes([{offset:0,transform:"translateY(0%)"},{offset:.05,transform:"translateY(100%)"},{offset:.1,transform:"translateY(200%)"},{offset:.3,transform:"translateY(200%)"},{offset:.5,transform:"translateY(200%)"},{offset:.7,transform:"translateY(200%)"},{offset:.9,transform:"translateY(200%)"},{offset:.95,transform:"translateY(100%)"},{offset:1,transform:"translateY(0%)"}]),this.changeScore.play()):this.slideInfo[this.currentSlide].stage=Se.INCORRECT,this.progressPercent=(this.currentSlide+1)/this.taskLength,this.slideElement.lockSwipes(!1),this.slideElement.lockSwipeToPrev(!0))}},{key:"getSlideFaces",value:function(e){for(var t=[],i=0;i<this.numberOfOptions-1;i++){for(var n=Math.floor(Math.random()*this.taskLength);t.indexOf(this.facePaths[n])>-1;)n=Math.floor(Math.random()*this.taskLength);t.push(this.facePaths[n])}var s=Math.floor(Math.random()*this.numberOfOptions);return t.splice(s,0,this.shuffledFaces[e]),t}},{key:"showDisabled",value:function(e){return this.showFeedback()&&this.slideInfo[this.currentSlide].correctFace!=this.slideInfo[this.currentSlide].faces[e]}},{key:"showSelected",value:function(e){return this.showFeedback()&&this.slideInfo[this.currentSlide].faces[e]!=this.slideInfo[this.currentSlide].correctFace&&this.slideInfo[this.currentSlide].faces[e]==this.slideInfo[this.currentSlide].selectedFace}},{key:"showFeedback",value:function(){return!this.scoreCardDisplayed()&&(this.slideInfo[this.currentSlide].stage==Se.CORRECT||this.slideInfo[this.currentSlide].stage==Se.INCORRECT)}},{key:"scoreCardDisplayed",value:function(){return this.currentSlide>=this.taskLength}},{key:"changeSlide",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.slideElement.getActiveIndex();case 2:if(e.t0=e.sent,e.t1=this.currentSlide,e.t2=e.t0>e.t1,!e.t2){e.next=13;break}return e.next=8,this.slideElement.getActiveIndex();case 8:return this.currentSlide=e.sent,e.next=11,this.slideElement.lockSwipes(!0);case 11:return e.next=13,this.changeScore.stop();case 13:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||pe)},pe.\u0275cmp=f.Ob({type:pe,selectors:[["app-whos-new"]],viewQuery:function(e,t){var i;1&e&&f.Bc(ae,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{facePaths:"facePaths",newFacePaths:"newFacePaths"},outputs:{finished:"finished"},decls:8,vars:11,consts:[[3,"ngClass"],[2,"margin-top","0px",3,"value"],[4,"ngIf"],[3,"ionSlideDidChange"],["slideElement",""],[4,"ngFor","ngForOf"],[3,"score","length","assessment","finished"],[1,"score-banner"],[1,"score-change"],[1,"flex-slide"],["class","prompt",4,"ngIf"],[1,"grid-card",3,"button","ngClass","click"],[3,"src",4,"ngIf"],["lines","none",1,"footer"],["slot","end","color","medium","name","arrow-back"],[1,"prompt"],[3,"src"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.vc(2,oe,6,2,"span",2),f.Xb(3,"ion-slides",3,4),f.fc("ionSlideDidChange",(function(){return t.changeSlide()})),f.vc(5,ve,20,28,"ion-slide",5),f.Xb(6,"ion-slide"),f.Xb(7,"app-score-page",6),f.fc("finished",(function(e){return t.finish(e)})),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.kc("ngClass",f.pc(7,ke,!t.showFeedback(),t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.CORRECT,t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.INCORRECT)),f.Kb(1),f.lc("value",t.progressPercent),f.Kb(1),f.kc("ngIf",!t.scoreCardDisplayed()),f.Kb(3),f.kc("ngForOf",t.slideInfo),f.Kb(2),f.kc("score",t.score)("length",t.taskLength)("assessment",!1))},directives:[n.j,c.h,n.u,c.j,n.B,c.i,n.A,z,n.g,n.o,n.p,n.m],styles:[""],data:{animation:[Object(X.k)("fadeFooter",[Object(X.h)("visible",Object(X.i)({opacity:.75})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)("invisible => visible",[Object(X.e)(1500,Object(X.f)([Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:".75"})]))]),Object(X.j)("visible => invisible",[Object(X.e)(200)])])]}}),pe),we=["slideElement"];function Ie(e,t){if(1&e&&(f.Xb(0,"span"),f.Xb(1,"div",13),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",14),f.wc(5),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(3),f.zc("Score: ",i.score,"/",i.progressPercent*i.taskLength,""),f.Kb(2),f.xc(i.stage==i.Stage.CORRECT?"+4":"-1")}}function ye(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",15),f.fc("click",(function(){return f.sc(i),f.hc().startMemorizeTimer()})),f.Xb(1,"div",16),f.wc(2," Tap to reveal "),f.Wb(),f.Wb()}if(2&e){var n=f.hc();f.kc("@fadeInOut",n.stage==n.Stage.START?"visible":"invisible")}}function Ce(e,t){if(1&e&&(f.Xb(0,"div",17),f.wc(1),f.Wb()),2&e){var i=f.hc();f.Kb(1),f.yc("Memorize the face placement: ",i.memorizeTime,"")}}function Ee(e,t){if(1&e&&(f.Xb(0,"div",17),f.wc(1,"Memorize the face placement: "),f.Xb(2,"span",18),f.wc(3),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(2),f.kc("@countdown",i.timeRemaining%2==0?"active":"inactive"),f.Kb(1),f.xc(i.timeRemaining)}}function Te(e,t){1&e&&(f.Xb(0,"div",17),f.wc(1,"Hold the faces in your mind..."),f.Wb())}function Re(e,t){1&e&&(f.Xb(0,"div",17),f.wc(1,"Match the faces"),f.Wb())}function Fe(e,t){1&e&&(f.Xb(0,"div",17),f.wc(1,"Correct!"),f.Wb())}function We(e,t){1&e&&(f.Xb(0,"div",17),f.wc(1,"Incorrect!"),f.Wb())}function xe(e,t){if(1&e&&f.Vb(0,"img",25),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.randomFaces[i],f.tc)}}function je(e,t){if(1&e&&f.Vb(0,"img",26),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}var Xe=function(e){return{"selected-card":e}};function Me(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",19),f.Xb(1,"div",20),f.fc("click",(function(){f.sc(i);var e=t.index;return f.hc().clickFace(e)})),f.Xb(2,"div",21),f.vc(3,xe,1,1,"img",22),f.Wb(),f.Xb(4,"div",23),f.vc(5,je,1,1,"img",24),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc();f.Kb(1),f.kc("ngClass",f.nc(3,Xe,s.selectedFace==n)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n))}}function Ke(e,t){if(1&e&&f.Vb(0,"img",25),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.randomFaces[i+4],f.tc)}}function Ae(e,t){if(1&e&&f.Vb(0,"img",26),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function Pe(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",19),f.Xb(1,"div",20),f.fc("click",(function(){f.sc(i);var e=t.index;return f.hc().clickFace(e+4)})),f.Xb(2,"div",21),f.vc(3,Ke,1,1,"img",22),f.Wb(),f.Xb(4,"div",23),f.vc(5,Ae,1,1,"img",24),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc();f.Kb(1),f.kc("ngClass",f.nc(3,Xe,s.selectedFace==n+4)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n+4)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n+4))}}function Le(e,t){if(1&e&&f.Vb(0,"img",25),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.randomFaces[i+8],f.tc)}}function Ne(e,t){if(1&e&&f.Vb(0,"img",26),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function Ye(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",19),f.Xb(1,"div",20),f.fc("click",(function(){f.sc(i);var e=t.index;return f.hc().clickFace(e+8)})),f.Xb(2,"div",21),f.vc(3,Le,1,1,"img",22),f.Wb(),f.Xb(4,"div",23),f.vc(5,Ne,1,1,"img",24),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc();f.Kb(1),f.kc("ngClass",f.nc(3,Xe,s.selectedFace==n+8)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n+8)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n+8))}}function _e(e,t){if(1&e&&f.Vb(0,"img",25),2&e){var i=f.hc().index,n=f.hc();f.kc("src",n.randomFaces[i+12],f.tc)}}function De(e,t){if(1&e&&f.Vb(0,"img",26),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function Ve(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",19),f.Xb(1,"div",20),f.fc("click",(function(){f.sc(i);var e=t.index;return f.hc().clickFace(e+12)})),f.Xb(2,"div",21),f.vc(3,_e,1,1,"img",22),f.Wb(),f.Xb(4,"div",23),f.vc(5,De,1,1,"img",24),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc();f.Kb(1),f.kc("ngClass",f.nc(3,Xe,s.selectedFace==n+12)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n+12)),f.Kb(2),f.kc("ngIf",s.imageIsDisplayed(n+12))}}var ze,He=function(e,t,i){return{default:e,success:t,failure:i}},Be=function(){return[]},Ue=function(e){return e[e.START=0]="START",e[e.MEMORIZE=1]="MEMORIZE",e[e.MASK=2]="MASK",e[e.SELECT=3]="SELECT",e[e.CORRECT=4]="CORRECT",e[e.INCORRECT=5]="INCORRECT",e}({}),qe=((ze=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.Stage=Ue,this.mask="assets/background_imgs/mask1.png",this.memorizeTime=10,this.taskLength=32}return _createClass(e,[{key:"ngOnInit",value:function(){this.stage=Ue.START,this.score=0,this.promise=0,this.progressPercent=0,this.selectedFace=null,this.correctFaces=[],this.incorrectFaces=[],this.firstSlide=!0,this.changeScore=Object(R.h)(),this.randomFaces=[];for(var e=0;e<this.facePaths.length;e++)this.randomFaces.push(this.facePaths[e]),this.randomFaces.push(this.facePaths[e]);for(var t=this.randomFaces.length-1;t>0;t-=1){var i=Math.floor(Math.random()*(t+1)),n=this.randomFaces[t];this.randomFaces[t]=this.randomFaces[i],this.randomFaces[i]=n}}},{key:"ngAfterViewInit",value:function(){this.slideElement.lockSwipes(!0)}},{key:"ngOnDestroy",value:function(){this.interval&&this.interval.unsubscribe(),this.timer&&this.timer.unsubscribe()}},{key:"finish",value:function(e){this.finished.emit([this.score,e]),0==e&&(this.ngOnInit(),this.slideElement.lockSwipes(!1),this.slideElement.slideTo(0),this.slideElement.lockSwipes(!0))}},{key:"clickFace",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.stage!=Ue.START&&this.stage!=Ue.MEMORIZE&&this.stage!=Ue.MASK&&(this.stage!=Ue.CORRECT&&this.stage!=Ue.INCORRECT||(this.promise++,this.selectedFace=null,this.resetSelected()),this.correctFaces.indexOf(this.randomFaces[e])<0&&e!=this.selectedFace),!t.t0){t.next=23;break}if(Object(R.h)().addElement(document.querySelectorAll(".memory-card")[e]).fill("none").duration(400).keyframes([{offset:0,transform:"scale(1, 1)"},{offset:.5,transform:"scale(0.95, 0.95)"},{offset:1,transform:"scale(1, 1)"}]).play(),null!=this.selectedFace){t.next=7;break}this.selectedFace=e,t.next=23;break;case 7:if(this.randomFaces[e]!=this.randomFaces[this.selectedFace]){t.next=17;break}return this.correctFaces.push(this.randomFaces[e]),this.progressPercent=this.correctFaces.length/this.facePaths.length,this.score+=this.taskLength/this.facePaths.length,this.stage=Ue.CORRECT,this.correctFaces.length==this.facePaths.length&&(this.score=Math.ceil(this.score),this.slideElement.lockSwipes(!1)),t.next=15,this.waitForFeedback();case 15:t.next=23;break;case 17:return this.incorrectFaces.push(this.selectedFace),this.incorrectFaces.push(e),this.score=this.score>=1?this.score-1:0,this.stage=Ue.INCORRECT,t.next=23,this.waitForFeedback();case 23:case"end":return t.stop()}}),t,this)})))}},{key:"imageIsDisplayed",value:function(e){return this.stage==Ue.MEMORIZE||this.stage==Ue.MASK||this.incorrectFaces.indexOf(e)>-1||this.correctFaces.indexOf(this.randomFaces[e])>-1||this.selectedFace==e}},{key:"resetSelected",value:function(){this.incorrectFaces=[],this.stage=Ue.SELECT,this.changeScore.stop()}},{key:"waitForFeedback",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedFace=null,this.stage!=Ue.INCORRECT&&this.stage!=Ue.CORRECT||(this.changeScore=Object(R.h)().addElement(document.querySelectorAll(".score-change")).fill("none").duration(2e3).keyframes([{offset:0,transform:"translateY(0%)"},{offset:.05,transform:"translateY(100%)"},{offset:.1,transform:"translateY(200%)"},{offset:.3,transform:"translateY(200%)"},{offset:.5,transform:"translateY(200%)"},{offset:.7,transform:"translateY(200%)"},{offset:.9,transform:"translateY(200%)"},{offset:.95,transform:"translateY(100%)"},{offset:1,transform:"translateY(0%)"}]),this.changeScore.play()),t=this.promise,e.next=4,new Promise((function(e){return setTimeout(e,2e3)}));case 4:t==this.promise&&this.resetSelected();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"startMemorizeTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stage==Ue.START&&(this.timeRemaining=this.memorizeTime,this.stage=Ue.MEMORIZE,this.timer=Object(o.a)(1e3*this.timeRemaining).subscribe((function(){t.startMaskTimer()})),this.interval=Object(l.a)(1e3).pipe(y(Object(o.a)(1e3*this.timeRemaining))).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining--;case 1:case"end":return e.stop()}}),e,this)})))})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startMaskTimer",value:function(){var e=this;Object(R.h)().addElement(document.querySelectorAll(".flipper")).fill("none").duration(2800).keyframes([{offset:0,transform:"rotateY(0deg)"},{offset:.15,transform:"rotateY(180deg)"},{offset:.85,transform:"rotateY(180deg)"},{offset:1,transform:"rotateY(0deg)"}]).play(),this.timer=Object(o.a)(400).subscribe((function(){return Object(a.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stage=Ue.MASK;case 1:case"end":return e.stop()}}),e,this)})))})),this.timer=Object(o.a)(2400).subscribe((function(){return Object(a.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stage=Ue.SELECT;case 1:case"end":return e.stop()}}),e,this)})))}))}},{key:"scoreCardDisplayed",value:function(){return!this.firstSlide}}]),e}()).\u0275fac=function(e){return new(e||ze)},ze.\u0275cmp=f.Ob({type:ze,selectors:[["app-memory-match"]],viewQuery:function(e,t){var i;1&e&&f.Bc(we,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{facePaths:"facePaths"},outputs:{finished:"finished"},decls:28,vars:26,consts:[[3,"ngClass"],[2,"margin-top","0px",3,"value"],[4,"ngIf"],["class","overlay","button","",3,"click",4,"ngIf"],[3,"ionSlideDidChange","ionSlideReachStart","ionSlideReachEnd"],["slideElement",""],[1,"flex-slide"],["class","prompt-small",4,"ngIf"],[2,"display","flex","justify-content","center"],["style","margin: 10px; perspective: 500px",4,"ngFor","ngForOf"],["lines","none",1,"footer"],["slot","end","color","dark","name","arrow-back"],[3,"score","length","assessment","finished"],[1,"score-banner"],[1,"score-change",2,"right","12vw"],["button","",1,"overlay",3,"click"],[1,"overlay-content"],[1,"prompt-small"],[1,"time-left"],[2,"margin","10px","perspective","500px"],[1,"flipper","memory-card",3,"ngClass","click"],[1,"front"],[3,"src",4,"ngIf"],[1,"back"],["style","backface-visibility: hidden; -webkit-backface-visibility: hidden",3,"src",4,"ngIf"],[3,"src"],[2,"backface-visibility","hidden","-webkit-backface-visibility","hidden",3,"src"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.vc(2,Ie,6,3,"span",2),f.vc(3,ye,3,1,"div",3),f.Xb(4,"ion-slides",4,5),f.fc("ionSlideDidChange",(function(){return t.ngAfterViewInit(),t.resetSelected()}))("ionSlideReachStart",(function(){return t.firstSlide=!0}))("ionSlideReachEnd",(function(){return t.firstSlide=!1})),f.Xb(6,"ion-slide",6),f.vc(7,Ce,2,1,"div",7),f.vc(8,Ee,4,2,"div",7),f.vc(9,Te,2,0,"div",7),f.vc(10,Re,2,0,"div",7),f.vc(11,Fe,2,0,"div",7),f.vc(12,We,2,0,"div",7),f.Xb(13,"div"),f.Xb(14,"div",8),f.vc(15,Me,6,5,"div",9),f.Wb(),f.Xb(16,"div",8),f.vc(17,Pe,6,5,"div",9),f.Wb(),f.Xb(18,"div",8),f.vc(19,Ye,6,5,"div",9),f.Wb(),f.Xb(20,"div",8),f.vc(21,Ve,6,5,"div",9),f.Wb(),f.Wb(),f.Xb(22,"ion-item",10),f.Xb(23,"ion-label"),f.wc(24,"Swipe to Continue"),f.Wb(),f.Vb(25,"ion-icon",11),f.Wb(),f.Wb(),f.Xb(26,"ion-slide"),f.Xb(27,"app-score-page",12),f.fc("finished",(function(e){return t.finish(e)})),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.kc("ngClass",f.pc(18,He,t.stage!=t.Stage.CORRECT&&t.stage!=t.Stage.INCORRECT,t.stage==t.Stage.CORRECT,t.stage==t.Stage.INCORRECT)),f.Kb(1),f.lc("value",t.progressPercent),f.Kb(1),f.kc("ngIf",!t.scoreCardDisplayed()),f.Kb(1),f.kc("ngIf",t.stage==t.Stage.START),f.Kb(4),f.kc("ngIf",t.stage==t.Stage.START),f.Kb(1),f.kc("ngIf",t.stage==t.Stage.MEMORIZE),f.Kb(1),f.kc("ngIf",t.stage==t.Stage.MASK),f.Kb(1),f.kc("ngIf",t.stage==t.Stage.SELECT),f.Kb(1),f.kc("ngIf",t.stage==t.Stage.CORRECT),f.Kb(1),f.kc("ngIf",t.stage==t.Stage.INCORRECT),f.Kb(3),f.kc("ngForOf",f.mc(22,Be).constructor(4)),f.Kb(2),f.kc("ngForOf",f.mc(23,Be).constructor(4)),f.Kb(2),f.kc("ngForOf",f.mc(24,Be).constructor(4)),f.Kb(2),f.kc("ngForOf",f.mc(25,Be).constructor(4)),f.Kb(1),f.kc("@fadeFooter",t.correctFaces.length==t.facePaths.length?"visible":"invisible"),f.Kb(5),f.kc("score",t.score)("length",t.taskLength)("assessment",!1))},directives:[n.j,c.h,n.u,c.j,n.B,n.A,c.i,n.o,n.p,n.m,z],styles:["ion-card[_ngcontent-%COMP%]{text-align:center;background-color:#dcdcdc;display:inline-block;margin:0;height:70px;width:52px}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:45px;margin-left:4px;margin-top:5px}.memory-card[_ngcontent-%COMP%]{margin:0;height:70px;width:52px}.memory-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:45px;border-radius:10%}"],data:{animation:[Object(X.k)("fadeInOut",[Object(X.h)("visible",Object(X.i)({opacity:.9})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)(":enter",[Object(X.e)(500)]),Object(X.j)(":leave",[Object(X.e)(500)])]),Object(X.k)("countdown",[Object(X.j)("active <=> inactive",[Object(X.e)(200,Object(X.f)([Object(X.i)({transform:"translateY(0%)",opacity:"1"}),Object(X.i)({transform:"translateY(75%)",opacity:"0"}),Object(X.i)({transform:"translateY(-75%)",opacity:"0"}),Object(X.i)({transform:"translateY(0%)",opacity:"1"})]))])]),Object(X.k)("fadeFooter",[Object(X.h)("visible",Object(X.i)({opacity:.75})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)("invisible => visible",[Object(X.e)(1500,Object(X.f)([Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:".75"})]))]),Object(X.j)("visible => invisible",[Object(X.e)(200)])])]}}),ze),Ze=["slideElement"];function Ge(e,t){if(1&e&&(f.Xb(0,"span"),f.Xb(1,"div",8),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",9),f.wc(5),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(3),f.zc("Score: ",i.score,"/",i.progressPercent*i.taskLength,""),f.Kb(2),f.yc("+",i.changeScoreValue,"")}}function Je(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",10),f.fc("click",(function(){return f.sc(i),f.hc().startMemorizeTimer()})),f.Xb(1,"div",11),f.wc(2," Tap to reveal "),f.Wb(),f.Wb()}if(2&e){var n=f.hc();f.kc("@fadeInOut",n.slideInfo[n.currentSlide].stage==n.Stage.START?"visible":"invisible")}}function Qe(e,t){if(1&e&&(f.Xb(0,"div",28),f.wc(1),f.Wb()),2&e){var i=f.hc(2);f.Kb(1),f.yc("Memorize the face placement: ",i.memorizeTime,"")}}function $e(e,t){if(1&e&&(f.Xb(0,"div",28),f.wc(1,"Memorize the face placement: "),f.Xb(2,"span",29),f.wc(3),f.Wb(),f.Wb()),2&e){var i=f.hc(2);f.Kb(2),f.kc("@countdown",i.timeRemaining%2==0?"active":"inactive"),f.Kb(1),f.xc(i.timeRemaining)}}function et(e,t){1&e&&(f.Xb(0,"div",28),f.wc(1,"Hold the faces in your mind..."),f.Wb())}function tt(e,t){1&e&&(f.Xb(0,"div",28),f.wc(1,"Rearrange the faces"),f.Wb())}function it(e,t){1&e&&(f.Xb(0,"div",28),f.wc(1,"Correct!"),f.Wb())}function nt(e,t){1&e&&(f.Xb(0,"div",28),f.wc(1,"Incorrect!"),f.Wb())}function st(e,t){if(1&e&&f.Vb(0,"img",30),2&e){var i=f.hc(2);f.kc("src",i.getSrc(0),f.tc)}}function ct(e,t){if(1&e&&f.Vb(0,"img",31),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function rt(e,t){if(1&e&&f.Vb(0,"img",30),2&e){var i=f.hc(2);f.kc("src",i.getSrc(1),f.tc)}}function at(e,t){if(1&e&&f.Vb(0,"img",31),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function ot(e,t){if(1&e&&f.Vb(0,"img",30),2&e){var i=f.hc(2);f.kc("src",i.getSrc(2),f.tc)}}function lt(e,t){if(1&e&&f.Vb(0,"img",31),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function ft(e,t){if(1&e&&f.Vb(0,"img",30),2&e){var i=f.hc(2);f.kc("src",i.getSrc(3),f.tc)}}function ht(e,t){if(1&e&&f.Vb(0,"img",31),2&e){var i=f.hc(2);f.kc("src",i.mask,f.tc)}}function dt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-button",32),f.fc("click",(function(){return f.sc(i),f.hc(2).clickDone()})),f.wc(1,"Done"),f.Wb()}}function ut(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-grid",33),f.Xb(1,"ion-row"),f.Xb(2,"ion-col"),f.Xb(3,"span",34),f.wc(4,"Correct"),f.Wb(),f.Wb(),f.Xb(5,"ion-col"),f.Xb(6,"ion-toggle",35),f.fc("ngModelChange",(function(e){f.sc(i);var t=f.hc().index;return f.hc().slideInfo[t].feedback=e}))("click",(function(){return f.sc(i),f.hc(2).animateCardChange()})),f.Wb(),f.Wb(),f.Xb(7,"ion-col"),f.Xb(8,"span",34),f.wc(9,"Selected"),f.Wb(),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.hc().index,s=f.hc();f.Kb(6),f.kc("ngModel",s.slideInfo[n].feedback)}}var bt=function(e,t){return{"selected-card":e,"wrong-card":t}};function gt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-slide",12),f.vc(1,Qe,2,1,"div",13),f.vc(2,$e,4,2,"div",13),f.vc(3,et,2,0,"div",13),f.vc(4,tt,2,0,"div",13),f.vc(5,it,2,0,"div",13),f.vc(6,nt,2,0,"div",13),f.Xb(7,"div"),f.Xb(8,"div",14),f.Xb(9,"div",15),f.fc("click",(function(){return f.sc(i),f.hc().clickCard(0)})),f.Xb(10,"div",16),f.vc(11,st,1,1,"img",17),f.Wb(),f.Xb(12,"div",18),f.vc(13,ct,1,1,"img",19),f.Wb(),f.Wb(),f.Xb(14,"div",20),f.fc("click",(function(){return f.sc(i),f.hc().clickCard(1)})),f.Xb(15,"div",16),f.vc(16,rt,1,1,"img",17),f.Wb(),f.Xb(17,"div",18),f.vc(18,at,1,1,"img",19),f.Wb(),f.Wb(),f.Wb(),f.Xb(19,"div",14),f.Xb(20,"div",21),f.fc("click",(function(){return f.sc(i),f.hc().clickCard(2)})),f.Xb(21,"div",16),f.vc(22,ot,1,1,"img",17),f.Wb(),f.Xb(23,"div",18),f.vc(24,lt,1,1,"img",19),f.Wb(),f.Wb(),f.Xb(25,"div",22),f.fc("click",(function(){return f.sc(i),f.hc().clickCard(3)})),f.Xb(26,"div",16),f.vc(27,ft,1,1,"img",17),f.Wb(),f.Xb(28,"div",18),f.vc(29,ht,1,1,"img",19),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(30,"div",23),f.vc(31,dt,2,0,"ion-button",24),f.vc(32,ut,10,1,"ion-grid",25),f.Wb(),f.Xb(33,"ion-item",26),f.Xb(34,"ion-label"),f.wc(35,"Swipe to Continue"),f.Wb(),f.Vb(36,"ion-icon",27),f.Wb(),f.Wb()}if(2&e){var n=t.index,s=f.hc();f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.START),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.MEMORIZE),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.MASK),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.SELECT),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.CORRECT),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.INCORRECT),f.Kb(3),f.kc("ngClass",f.oc(21,bt,s.slideInfo[n].stage==s.Stage.SELECT&&s.getSrc(0)==s.slideInfo[n].selectedFace,s.slideInfo[n].stage==s.Stage.INCORRECT&&s.slideInfo[n].feedback&&s.slideInfo[n].shuffledOrder[0]!=s.slideInfo[n].correctOrder[0])),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(1),f.kc("ngClass",f.oc(24,bt,s.slideInfo[n].stage==s.Stage.SELECT&&s.getSrc(1)==s.slideInfo[n].selectedFace,s.slideInfo[n].stage==s.Stage.INCORRECT&&s.slideInfo[n].feedback&&s.slideInfo[n].shuffledOrder[1]!=s.slideInfo[n].correctOrder[1])),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(2),f.kc("ngClass",f.oc(27,bt,s.slideInfo[n].stage==s.Stage.SELECT&&s.getSrc(2)==s.slideInfo[n].selectedFace,s.slideInfo[n].stage==s.Stage.INCORRECT&&s.slideInfo[n].feedback&&s.slideInfo[n].shuffledOrder[2]!=s.slideInfo[n].correctOrder[2])),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(1),f.kc("ngClass",f.oc(30,bt,s.slideInfo[n].stage==s.Stage.SELECT&&s.getSrc(3)==s.slideInfo[n].selectedFace,s.slideInfo[n].stage==s.Stage.INCORRECT&&s.slideInfo[n].feedback&&s.slideInfo[n].shuffledOrder[3]!=s.slideInfo[n].correctOrder[3])),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.SELECT),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.INCORRECT),f.Kb(1),f.kc("@fadeFooter",s.showFeedback()?"visible":"invisible")}}var mt,vt=function(e,t,i){return{default:e,success:t,failure:i}},pt=function(e){return e[e.START=0]="START",e[e.MEMORIZE=1]="MEMORIZE",e[e.MASK=2]="MASK",e[e.SELECT=3]="SELECT",e[e.CORRECT=4]="CORRECT",e[e.INCORRECT=5]="INCORRECT",e}({}),kt=((mt=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.Stage=pt,this.numberOfOptions=4,this.numberOfSlides=4,this.mask="assets/background_imgs/mask1.png",this.memorizeTime=10,this.taskLength=this.numberOfOptions*this.numberOfSlides}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentSlide=0,this.progressPercent=0,this.score=0,this.changeScore=Object(R.h)(),this.slideInfo=[];for(var e=0;e<this.numberOfSlides;e++){var t=this.getSlideFaces(e);this.slideInfo.push({correctOrder:t,shuffledOrder:this.shuffleFaces(t),stage:pt.START,feedback:!0,selectedFace:null})}}},{key:"ngAfterViewInit",value:function(){this.slideElement.lockSwipes(!0)}},{key:"ngOnDestroy",value:function(){this.interval&&this.interval.unsubscribe(),this.timer&&this.timer.unsubscribe()}},{key:"finish",value:function(e){this.finished.emit([this.score,e]),0==e&&(this.ngOnInit(),this.slideElement.lockSwipes(!1),this.slideElement.slideTo(0),this.slideElement.lockSwipes(!0))}},{key:"clickDone",value:function(){this.changeScoreValue=this.numberOfOptions,this.slideInfo[this.currentSlide].selectedFace=null;for(var e=0;e<this.slideInfo[this.currentSlide].shuffledOrder.length;e++)this.slideInfo[this.currentSlide].shuffledOrder[e]!=this.slideInfo[this.currentSlide].correctOrder[e]&&(this.changeScoreValue-=1);this.score+=this.changeScoreValue,this.slideInfo[this.currentSlide].stage=this.changeScoreValue==this.numberOfOptions?pt.CORRECT:pt.INCORRECT,this.progressPercent=(this.currentSlide+1)/this.numberOfSlides,this.slideElement.lockSwipes(!1),this.slideElement.lockSwipeToPrev(!0),this.changeScore=Object(R.h)().addElement(document.querySelectorAll(".score-change")).fill("none").duration(2e3).keyframes([{offset:0,transform:"translateY(0%)"},{offset:.05,transform:"translateY(100%)"},{offset:.1,transform:"translateY(200%)"},{offset:.3,transform:"translateY(200%)"},{offset:.5,transform:"translateY(200%)"},{offset:.7,transform:"translateY(200%)"},{offset:.9,transform:"translateY(200%)"},{offset:.95,transform:"translateY(100%)"},{offset:1,transform:"translateY(0%)"}]),this.changeScore.play()}},{key:"getSlideFaces",value:function(e){for(var t=[],i=0;i<this.numberOfOptions-1;i++){for(var n=Math.floor(Math.random()*this.facePaths.length);t.indexOf(this.facePaths[n])>-1||this.facePaths[n]==this.facePaths[e];)n=Math.floor(Math.random()*this.facePaths.length);t.push(this.facePaths[n])}var s=Math.floor(Math.random()*this.numberOfOptions);return t.splice(s,0,this.facePaths[e]),t}},{key:"shuffleFaces",value:function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);for(var n=t.length-1;n>0;n-=1){var s=Math.floor(Math.random()*(n+1)),c=t[n];t[n]=t[s],t[s]=c}return t}},{key:"startMemorizeTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining=this.memorizeTime,this.slideInfo[this.currentSlide].stage=pt.MEMORIZE,this.timer=Object(o.a)(1e3*this.timeRemaining).subscribe((function(){t.startMaskTimer()})),this.interval=Object(l.a)(1e3).pipe(y(Object(o.a)(1e3*this.timeRemaining))).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining--;case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startMaskTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(R.h)().addElement(document.querySelectorAll(".flipper")).fill("none").duration(2800).keyframes([{offset:0,transform:"rotateY(0deg)"},{offset:.15,transform:"rotateY(180deg)"},{offset:.85,transform:"rotateY(180deg)"},{offset:1,transform:"rotateY(0deg)"}]).play(),this.timer=Object(o.a)(400).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.slideInfo[this.currentSlide].stage=pt.MASK;case 1:case"end":return e.stop()}}),e,this)})))})),this.timer=Object(o.a)(2200).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.slideInfo[this.currentSlide].stage=pt.SELECT;case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getSrc",value:function(e){return this.slideInfo[this.currentSlide].stage==pt.MASK?null:this.slideInfo[this.currentSlide].stage==pt.SELECT||this.slideInfo[this.currentSlide].stage==pt.INCORRECT&&this.slideInfo[this.currentSlide].feedback?this.slideInfo[this.currentSlide].shuffledOrder[e]:this.slideInfo[this.currentSlide].correctOrder[e]}},{key:"clickCard",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.slideInfo[this.currentSlide].stage!=pt.SELECT){t.next=4;break}Object(R.h)().addElement(document.querySelectorAll(".small-card")[e]).fill("none").duration(400).keyframes([{offset:0,transform:"scale(1, 1)"},{offset:.5,transform:"scale(0.95, 0.95)"},{offset:1,transform:"scale(1, 1)"}]).play(),null==this.slideInfo[this.currentSlide].selectedFace?this.slideInfo[this.currentSlide].selectedFace=this.slideInfo[this.currentSlide].shuffledOrder[e]:(n=this.slideInfo[this.currentSlide].shuffledOrder.indexOf(this.slideInfo[this.currentSlide].selectedFace),i=[this.slideInfo[this.currentSlide].shuffledOrder[n],this.slideInfo[this.currentSlide].shuffledOrder[e]],this.slideInfo[this.currentSlide].shuffledOrder[e]=i[0],this.slideInfo[this.currentSlide].shuffledOrder[n]=i[1],this.slideInfo[this.currentSlide].selectedFace=null),t.next=9;break;case 4:if(t.t0=this.showFeedback(),!t.t0){t.next=9;break}return t.next=8,this.animateCardChange();case 8:this.slideInfo[this.currentSlide].feedback=!this.slideInfo[this.currentSlide].feedback;case 9:case"end":return t.stop()}}),t,this)})))}},{key:"animateCardChange",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,n,s,c,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],i=0;i<this.slideInfo[this.currentSlide].correctOrder.length;i++)n=this.slideInfo[this.currentSlide].shuffledOrder.indexOf(this.slideInfo[this.currentSlide].correctOrder[i]),s="0px",c="0px",i!=n&&(1!=Math.abs(i-n)&&3!=Math.abs(i-n)||(s="-125px",(i<n&&!this.slideInfo[this.currentSlide].feedback||i>n&&this.slideInfo[this.currentSlide].feedback)&&(s="125px"),(1==i&&2==n||2==i&&1==n)&&(s="125px"==s?"-125px":"125px")),(3==Math.abs(i-n)||2==Math.abs(i-n)||1==Math.abs(i-n)&&(1==i&&2==n||2==i&&1==n))&&(c="-150px",(i<n&&!this.slideInfo[this.currentSlide].feedback||i>n&&this.slideInfo[this.currentSlide].feedback)&&(c="150px"))),r="#card-"+(this.slideInfo[this.currentSlide].feedback?n:i),a=Object(R.h)().addElement(document.querySelectorAll(r)[this.currentSlide]).fill("none").duration(300).fromTo("transform","translate(0vw, 0vh)","translate("+s+", "+c+")"),t.push(a);o=0;case 3:if(!(o<t.length)){e.next=13;break}if(o!=t.length-1){e.next=9;break}return e.next=7,t[o].play();case 7:e.next=10;break;case 9:t[o].play();case 10:o++,e.next=3;break;case 13:case"end":return e.stop()}}),e,this)})))}},{key:"showFeedback",value:function(){return!this.scoreCardDisplayed()&&(this.slideInfo[this.currentSlide].stage==pt.CORRECT||this.slideInfo[this.currentSlide].stage==pt.INCORRECT)}},{key:"scoreCardDisplayed",value:function(){return this.currentSlide>=this.numberOfSlides}},{key:"changeSlide",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.slideElement.getActiveIndex();case 2:if(e.t0=e.sent,e.t1=this.currentSlide,e.t2=e.t0>e.t1,!e.t2){e.next=14;break}return e.next=8,this.slideElement.getActiveIndex();case 8:return this.currentSlide=e.sent,e.next=11,this.slideElement.lockSwipes(!0);case 11:return e.next=13,this.changeScore.stop();case 13:this.scoreCardDisplayed()||this.startMemorizeTimer();case 14:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||mt)},mt.\u0275cmp=f.Ob({type:mt,selectors:[["app-shuffle"]],viewQuery:function(e,t){var i;1&e&&f.Bc(Ze,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{facePaths:"facePaths"},outputs:{finished:"finished"},decls:9,vars:12,consts:[[3,"ngClass"],[2,"margin-top","0px",3,"value"],[4,"ngIf"],["class","overlay","button","",3,"click",4,"ngIf"],[3,"ionSlideDidChange"],["slideElement",""],["class","flex-slide",4,"ngFor","ngForOf"],[3,"score","length","assessment","finished"],[1,"score-banner"],[1,"score-change",2,"right","12vw"],["button","",1,"overlay",3,"click"],[1,"overlay-content"],[1,"flex-slide"],["class","prompt-small",4,"ngIf"],[2,"display","flex","justify-content","center","perspective","500px"],["id","card-0",1,"flipper","small-card",3,"ngClass","click"],[1,"front"],[3,"src",4,"ngIf"],[1,"back"],["style","backface-visibility: hidden; -webkit-backface-visibility: hidden",3,"src",4,"ngIf"],["id","card-1",1,"flipper","small-card",3,"ngClass","click"],["id","card-2",1,"flipper","small-card",3,"ngClass","click"],["id","card-3",1,"flipper","small-card",3,"ngClass","click"],[2,"text-align","center","height","10%","width","100%"],[3,"click",4,"ngIf"],["style","--background: transparent; height: 60%","lines","none",4,"ngIf"],["lines","none",1,"footer"],["slot","end","color","dark","name","arrow-back"],[1,"prompt-small"],[1,"time-left"],[3,"src"],[2,"backface-visibility","hidden","-webkit-backface-visibility","hidden",3,"src"],[3,"click"],["lines","none",2,"--background","transparent","height","60%"],[2,"color","white"],[3,"ngModel","ngModelChange","click"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.vc(2,Ge,6,3,"span",2),f.vc(3,Je,3,1,"div",3),f.Xb(4,"ion-slides",4,5),f.fc("ionSlideDidChange",(function(){return t.changeSlide()})),f.vc(6,gt,37,33,"ion-slide",6),f.Xb(7,"ion-slide"),f.Xb(8,"app-score-page",7),f.fc("finished",(function(e){return t.finish(e)})),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.kc("ngClass",f.pc(8,vt,!t.showFeedback(),t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.CORRECT,t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.INCORRECT)),f.Kb(1),f.lc("value",t.progressPercent),f.Kb(1),f.kc("ngIf",!t.scoreCardDisplayed()),f.Kb(1),f.kc("ngIf",t.slideInfo[t.currentSlide].stage==t.Stage.START),f.Kb(3),f.kc("ngForOf",t.slideInfo),f.Kb(2),f.kc("score",t.score)("length",t.taskLength)("assessment",!1))},directives:[n.j,c.h,n.u,c.j,n.B,c.i,n.A,z,n.o,n.p,n.m,n.e,n.k,n.x,n.i,n.E,n.b,r.f,r.h],styles:[".wrong-card[_ngcontent-%COMP%]{background-color:#fe2e2e!important}"],data:{animation:[Object(X.k)("fadeInOut",[Object(X.h)("visible",Object(X.i)({opacity:.9})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)(":enter",[Object(X.e)(500)]),Object(X.j)(":leave",[Object(X.e)(500)])]),Object(X.k)("countdown",[Object(X.j)("active <=> inactive",[Object(X.e)(200,Object(X.f)([Object(X.i)({transform:"translateY(0%)",opacity:"1"}),Object(X.i)({transform:"translateY(75%)",opacity:"0"}),Object(X.i)({transform:"translateY(-75%)",opacity:"0"}),Object(X.i)({transform:"translateY(0%)",opacity:"1"})]))])]),Object(X.k)("fadeFooter",[Object(X.h)("visible",Object(X.i)({opacity:.75})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)("invisible => visible",[Object(X.e)(1500,Object(X.f)([Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:".75"})]))]),Object(X.j)("visible => invisible",[Object(X.e)(200)])])]}}),mt),St=["slideElement"];function Ot(e,t){if(1&e&&(f.Xb(0,"span"),f.Xb(1,"div",8),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",9),f.wc(5,"+1"),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(3),f.zc("Score: ",i.score,"/",i.progressPercent*i.taskLength,"")}}function wt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",10),f.fc("click",(function(){return f.sc(i),f.hc().startMemorizeTimer()})),f.Xb(1,"div",11),f.wc(2," Tap to reveal "),f.Wb(),f.Wb()}if(2&e){var n=f.hc();f.kc("@fadeInOut",n.slideInfo[n.currentSlide].stage==n.Stage.START?"visible":"invisible")}}function It(e,t){if(1&e&&(f.Xb(0,"div",20),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.yc("Memorize the face: ",i.memorizeTime,"")}}function yt(e,t){if(1&e&&(f.Xb(0,"div",20),f.wc(1,"Memorize the face: "),f.Xb(2,"span",21),f.wc(3),f.Wb(),f.Wb()),2&e){var i=f.hc(3);f.Kb(2),f.kc("@countdown",i.timeRemaining%2==0?"active":"inactive"),f.Kb(1),f.xc(i.timeRemaining)}}function Ct(e,t){1&e&&(f.Xb(0,"div",20),f.wc(1,"Hold the face in your mind..."),f.Wb())}function Et(e,t){if(1&e&&f.Vb(0,"img",27),2&e){var i=f.hc(3).index,n=f.hc();f.kc("src",n.slideInfo[i].correctFace,f.tc)}}function Tt(e,t){if(1&e&&(f.Xb(0,"div",22),f.Xb(1,"div",23),f.vc(2,Et,1,1,"img",24),f.Wb(),f.Xb(3,"div",25),f.Vb(4,"img",26),f.Wb(),f.Wb()),2&e){var i=f.hc(2).index,n=f.hc();f.Kb(2),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.MEMORIZE),f.Kb(2),f.kc("src",n.mask,f.tc)}}function Rt(e,t){if(1&e&&(f.Xb(0,"div",14),f.vc(1,It,2,1,"div",15),f.vc(2,yt,4,2,"div",15),f.vc(3,Ct,2,0,"div",15),f.Xb(4,"div",16),f.vc(5,Tt,5,2,"div",17),f.Wb(),f.Xb(6,"ion-item",18),f.Xb(7,"ion-label"),f.wc(8,"Swipe to Continue"),f.Wb(),f.Vb(9,"ion-icon",19),f.Wb(),f.Wb()),2&e){var i=f.hc().index,n=f.hc();f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.START),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.MEMORIZE),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.MASK),f.Kb(2),f.kc("ngIf",n.slideInfo[i].stage!=n.Stage.CORRECT&&n.slideInfo[i].stage!=n.Stage.INCORRECT),f.Kb(1),f.kc("@fadeFooter",n.showFeedback()?"visible":"invisible")}}function Ft(e,t){1&e&&(f.Xb(0,"div",20),f.wc(1,"Who did you see?"),f.Wb())}function Wt(e,t){1&e&&(f.Xb(0,"div",20),f.wc(1,"Correct!"),f.Wb())}function xt(e,t){1&e&&(f.Xb(0,"div",20),f.wc(1,"Incorrect!"),f.Wb())}var jt=function(e,t){return{"selected-wrong-card":e,"disabled-card":t}};function Xt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",28),f.vc(1,Ft,2,0,"div",15),f.vc(2,Wt,2,0,"div",15),f.vc(3,xt,2,0,"div",15),f.Xb(4,"div"),f.Xb(5,"div"),f.Xb(6,"ion-card",29),f.fc("click",(function(){f.sc(i);var e=f.hc().index,t=f.hc();return t.selectFace(t.slideInfo[e].faces[0])})),f.Vb(7,"img",27),f.Wb(),f.Xb(8,"ion-card",29),f.fc("click",(function(){f.sc(i);var e=f.hc().index,t=f.hc();return t.selectFace(t.slideInfo[e].faces[1])})),f.Vb(9,"img",27),f.Wb(),f.Wb(),f.Xb(10,"div"),f.Xb(11,"ion-card",29),f.fc("click",(function(){f.sc(i);var e=f.hc().index,t=f.hc();return t.selectFace(t.slideInfo[e].faces[2])})),f.Vb(12,"img",27),f.Wb(),f.Xb(13,"ion-card",29),f.fc("click",(function(){f.sc(i);var e=f.hc().index,t=f.hc();return t.selectFace(t.slideInfo[e].faces[3])})),f.Vb(14,"img",27),f.Wb(),f.Wb(),f.Wb(),f.Xb(15,"ion-item",18),f.Xb(16,"ion-label"),f.wc(17,"Swipe to Continue"),f.Wb(),f.Vb(18,"ion-icon",19),f.Wb(),f.Wb()}if(2&e){var n=f.hc().index,s=f.hc();f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.SELECT),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.CORRECT),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.INCORRECT),f.Kb(3),f.kc("button",!s.showFeedback())("ngClass",f.oc(16,jt,s.showFeedback()&&s.slideInfo[n].faces[0]!=s.slideInfo[n].correctFace&&s.slideInfo[n].faces[0]==s.slideInfo[n].selectedFace,s.showFeedback()&&s.slideInfo[n].faces[0]!=s.slideInfo[n].correctFace)),f.Kb(1),f.kc("src",s.slideInfo[n].faces[0],f.tc),f.Kb(1),f.kc("button",!s.showFeedback())("ngClass",f.oc(19,jt,s.showFeedback()&&s.slideInfo[n].faces[1]!=s.slideInfo[n].correctFace&&s.slideInfo[n].faces[1]==s.slideInfo[n].selectedFace,s.showFeedback()&&s.slideInfo[n].faces[1]!=s.slideInfo[n].correctFace)),f.Kb(1),f.kc("src",s.slideInfo[n].faces[1],f.tc),f.Kb(2),f.kc("button",!s.showFeedback())("ngClass",f.oc(22,jt,s.showFeedback()&&s.slideInfo[n].faces[2]!=s.slideInfo[n].correctFace&&s.slideInfo[n].faces[2]==s.slideInfo[n].selectedFace,s.showFeedback()&&s.slideInfo[n].faces[2]!=s.slideInfo[n].correctFace)),f.Kb(1),f.kc("src",s.slideInfo[n].faces[2],f.tc),f.Kb(1),f.kc("button",!s.showFeedback())("ngClass",f.oc(25,jt,s.showFeedback()&&s.slideInfo[n].faces[3]!=s.slideInfo[n].correctFace&&s.slideInfo[n].faces[3]==s.slideInfo[n].selectedFace,s.showFeedback()&&s.slideInfo[n].faces[3]!=s.slideInfo[n].correctFace)),f.Kb(1),f.kc("src",s.slideInfo[n].faces[3],f.tc),f.Kb(1),f.kc("@fadeFooter",s.showFeedback()?"visible":"invisible")}}function Mt(e,t){if(1&e&&(f.Xb(0,"ion-slide"),f.vc(1,Rt,10,5,"div",12),f.vc(2,Xt,19,28,"div",13),f.Wb()),2&e){var i=t.index,n=f.hc();f.Kb(1),f.kc("ngIf",n.firstStage(i)),f.Kb(1),f.kc("ngIf",!n.firstStage(i))}}var Kt,At=function(e,t,i){return{default:e,success:t,failure:i}},Pt=function(e){return e[e.START=0]="START",e[e.MEMORIZE=1]="MEMORIZE",e[e.MASK=2]="MASK",e[e.SELECT=3]="SELECT",e[e.CORRECT=4]="CORRECT",e[e.INCORRECT=5]="INCORRECT",e}({}),Lt=((Kt=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.Stage=Pt,this.numberOfOptions=4,this.mask="assets/background_imgs/mask1.png",this.memorizeTime=3}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentSlide=0,this.progressPercent=0,this.score=0,this.changeScore=Object(R.h)(),this.taskLength=this.facePaths.length,this.slideInfo=[];for(var e=0;e<this.taskLength;e++)this.slideInfo.push({correctFace:this.facePaths[e],selectedFace:null,faces:this.getSlideFaces(e),stage:Pt.START})}},{key:"ngAfterViewInit",value:function(){this.slideElement.lockSwipes(!0)}},{key:"ngOnDestroy",value:function(){this.interval&&this.interval.unsubscribe(),this.timer&&this.timer.unsubscribe()}},{key:"selectFace",value:function(e){this.slideInfo[this.currentSlide].stage==Pt.SELECT&&(this.slideInfo[this.currentSlide].selectedFace=e,e==this.slideInfo[this.currentSlide].correctFace?(this.score++,this.slideInfo[this.currentSlide].stage=Pt.CORRECT,this.changeScore=Object(R.h)().addElement(document.querySelectorAll(".score-change")).fill("none").duration(2e3).keyframes([{offset:0,transform:"translateY(0%)"},{offset:.05,transform:"translateY(100%)"},{offset:.1,transform:"translateY(200%)"},{offset:.3,transform:"translateY(200%)"},{offset:.5,transform:"translateY(200%)"},{offset:.7,transform:"translateY(200%)"},{offset:.9,transform:"translateY(200%)"},{offset:.95,transform:"translateY(100%)"},{offset:1,transform:"translateY(0%)"}]),this.changeScore.play()):this.slideInfo[this.currentSlide].stage=Pt.INCORRECT,this.progressPercent=(this.currentSlide+1)/this.taskLength,this.slideElement.lockSwipes(!1),this.slideElement.lockSwipeToPrev(!0))}},{key:"getSlideFaces",value:function(e){for(var t=[],i=0;i<this.numberOfOptions-1;i++){for(var n=Math.floor(Math.random()*this.taskLength);t.indexOf(this.facePaths[n])>-1||this.facePaths[n]==this.facePaths[e];)n=Math.floor(Math.random()*this.taskLength);t.push(this.facePaths[n])}var s=Math.floor(Math.random()*this.numberOfOptions);return t.splice(s,0,this.facePaths[e]),t}},{key:"startMemorizeTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining=this.memorizeTime,this.slideInfo[this.currentSlide].stage=Pt.MEMORIZE,this.timer=Object(o.a)(1e3*this.timeRemaining).subscribe((function(){t.startMaskTimer()})),this.interval=Object(l.a)(1e3).pipe(y(Object(o.a)(1e3*this.timeRemaining))).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining--;case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startMaskTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(R.h)().addElement(document.querySelectorAll(".flipper")).fill("none").duration(2400).keyframes([{offset:0,transform:"rotateY(0deg)"},{offset:.15,transform:"rotateY(180deg)"},{offset:1,transform:"rotateY(180deg)"}]).play(),this.timer=Object(o.a)(400).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.slideInfo[this.currentSlide].stage=Pt.MASK;case 1:case"end":return e.stop()}}),e,this)})))})),this.timer=Object(o.a)(2200).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.slideInfo[this.currentSlide].stage=Pt.SELECT;case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"firstStage",value:function(e){return this.slideInfo[e].stage==Pt.START||this.slideInfo[e].stage==Pt.MEMORIZE||this.slideInfo[e].stage==Pt.MASK}},{key:"getSrc",value:function(e){return this.slideInfo[e].stage==Pt.MEMORIZE?this.slideInfo[e].correctFace:this.slideInfo[e].stage==Pt.MASK?this.mask:null}},{key:"showFeedback",value:function(){return!this.scoreCardDisplayed()&&(this.slideInfo[this.currentSlide].stage==Pt.CORRECT||this.slideInfo[this.currentSlide].stage==Pt.INCORRECT)}},{key:"scoreCardDisplayed",value:function(){return this.currentSlide>=this.taskLength}},{key:"changeSlide",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.slideElement.getActiveIndex();case 2:if(e.t0=e.sent,e.t1=this.currentSlide,e.t2=e.t0>e.t1,!e.t2){e.next=14;break}return e.next=8,this.slideElement.getActiveIndex();case 8:return this.currentSlide=e.sent,e.next=11,this.slideElement.lockSwipes(!0);case 11:return e.next=13,this.changeScore.stop();case 13:this.scoreCardDisplayed()||this.startMemorizeTimer();case 14:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Kt)},Kt.\u0275cmp=f.Ob({type:Kt,selectors:[["app-forced-choice"]],viewQuery:function(e,t){var i;1&e&&f.Bc(St,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{facePaths:"facePaths"},outputs:{finished:"finished"},decls:9,vars:12,consts:[[3,"ngClass"],[2,"margin-top","0px",3,"value"],[4,"ngIf"],["class","overlay","button","",3,"click",4,"ngIf"],[3,"ionSlideDidChange"],["slideElement",""],[4,"ngFor","ngForOf"],[3,"score","length","assessment","finished"],[1,"score-banner"],[1,"score-change"],["button","",1,"overlay",3,"click"],[1,"overlay-content"],["class","flex-slide","style","align-items: center",4,"ngIf"],["class","flex-slide",4,"ngIf"],[1,"flex-slide",2,"align-items","center"],["class","prompt",4,"ngIf"],[2,"perspective","500px"],["class","flipper large-card",4,"ngIf"],["lines","none",1,"footer"],["slot","end","color","dark","name","arrow-back"],[1,"prompt"],[1,"time-left"],[1,"flipper","large-card"],[1,"front"],[3,"src",4,"ngIf"],[1,"back"],[2,"width","85%","backface-visibility","hidden","-webkit-backface-visibility","hidden",3,"src"],[3,"src"],[1,"flex-slide"],[1,"grid-card",3,"button","ngClass","click"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.vc(2,Ot,6,2,"span",2),f.vc(3,wt,3,1,"div",3),f.Xb(4,"ion-slides",4,5),f.fc("ionSlideDidChange",(function(){return t.changeSlide()})),f.vc(6,Mt,3,2,"ion-slide",6),f.Xb(7,"ion-slide"),f.Xb(8,"app-score-page",7),f.fc("finished",(function(){return t.finished.emit([t.score,2])})),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.kc("ngClass",f.pc(8,At,!t.showFeedback(),t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.CORRECT,t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.INCORRECT)),f.Kb(1),f.lc("value",t.progressPercent),f.Kb(1),f.kc("ngIf",!t.scoreCardDisplayed()),f.Kb(1),f.kc("ngIf",t.slideInfo[t.currentSlide].stage==t.Stage.START),f.Kb(3),f.kc("ngForOf",t.slideInfo),f.Kb(2),f.kc("score",t.score)("length",t.taskLength)("assessment",!0))},directives:[n.j,c.h,n.u,c.j,n.B,c.i,n.A,z,n.o,n.p,n.m,n.g],styles:[""],data:{animation:[Object(X.k)("fadeInOut",[Object(X.h)("visible",Object(X.i)({opacity:.9})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)(":enter",[Object(X.e)(500)]),Object(X.j)(":leave",[Object(X.e)(500)])]),Object(X.k)("countdown",[Object(X.j)("active <=> inactive",[Object(X.e)(200,Object(X.f)([Object(X.i)({transform:"translateY(0%)",opacity:"1"}),Object(X.i)({transform:"translateY(75%)",opacity:"0"}),Object(X.i)({transform:"translateY(-75%)",opacity:"0"}),Object(X.i)({transform:"translateY(0%)",opacity:"1"})]))])]),Object(X.k)("fadeFooter",[Object(X.h)("visible",Object(X.i)({opacity:.75})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)("invisible => visible",[Object(X.e)(1500,Object(X.f)([Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:".75"})]))]),Object(X.j)("visible => invisible",[Object(X.e)(200)])])]}}),Kt),Nt=["slideElement"];function Yt(e,t){if(1&e&&(f.Xb(0,"span"),f.Xb(1,"div",8),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",9),f.wc(5,"+1"),f.Wb(),f.Wb()),2&e){var i=f.hc();f.Kb(3),f.zc("Score: ",i.score,"/",i.progressPercent*i.taskLength,"")}}function _t(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",10),f.fc("click",(function(){return f.sc(i),f.hc().startMemorizeTimer()})),f.Xb(1,"div",11),f.wc(2," Tap to reveal "),f.Wb(),f.Wb()}if(2&e){var n=f.hc();f.kc("@fadeInOut",n.slideInfo[n.currentSlide].stage==n.Stage.START?"visible":"invisible")}}function Dt(e,t){if(1&e&&(f.Xb(0,"div",19),f.wc(1),f.Wb()),2&e){var i=f.hc(2);f.Kb(1),f.yc("Memorize the face: ",i.memorizeTime,"")}}function Vt(e,t){if(1&e&&(f.Xb(0,"div",19),f.wc(1,"Memorize the face: "),f.Xb(2,"span",20),f.wc(3),f.Wb(),f.Wb()),2&e){var i=f.hc(2);f.Kb(2),f.kc("@countdown",i.timeRemaining%2==0?"active":"inactive"),f.Kb(1),f.xc(i.timeRemaining)}}function zt(e,t){1&e&&(f.Xb(0,"div",19),f.wc(1,"Hold the face in your mind..."),f.Wb())}function Ht(e,t){1&e&&(f.Xb(0,"div",19),f.wc(1,"Is this the same person?"),f.Wb())}function Bt(e,t){1&e&&(f.Xb(0,"div",19),f.wc(1,"Correct!"),f.Wb())}function Ut(e,t){1&e&&(f.Xb(0,"div",19),f.wc(1,"Incorrect!"),f.Wb())}function qt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",28),f.fc("click",(function(){return f.sc(i),f.hc(3).selectFace(!0)})),f.Wb()}}function Zt(e,t){if(1&e&&f.Vb(0,"img",29),2&e){var i=f.hc(2).index,n=f.hc();f.kc("src",n.getSrc(i),f.tc)}}function Gt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",30),f.fc("click",(function(){return f.sc(i),f.hc(3).selectFace(!1)})),f.Wb()}}function Jt(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",21),f.fc("pan",(function(e){return f.sc(i),f.hc(2).drag(e)}))("panend",(function(e){return f.sc(i),f.hc(2).returnCenter(e)})),f.Xb(1,"div",22),f.vc(2,qt,1,0,"ion-icon",23),f.vc(3,Zt,1,1,"img",24),f.vc(4,Gt,1,0,"ion-icon",25),f.Wb(),f.Xb(5,"div",26),f.Vb(6,"img",27),f.Wb(),f.Wb()}if(2&e){var n=f.hc().index,s=f.hc();f.kc("@swipeCard",1==s.slideInfo[n].selection?"left":"right"),f.Kb(2),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.SELECT),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage!=s.Stage.START),f.Kb(1),f.kc("ngIf",s.slideInfo[n].stage==s.Stage.SELECT),f.Kb(2),f.kc("src",s.mask,f.tc)}}function Qt(e,t){1&e&&(f.Xb(0,"div",35),f.wc(1,"Same"),f.Wb())}function $t(e,t){1&e&&(f.Xb(0,"div",35),f.wc(1,"Different"),f.Wb())}function ei(e,t){if(1&e&&(f.Xb(0,"div",31),f.vc(1,Qt,2,0,"div",32),f.vc(2,$t,2,0,"div",32),f.Xb(3,"div"),f.Xb(4,"ion-card",33),f.Vb(5,"img",34),f.Wb(),f.Xb(6,"ion-card",33),f.Vb(7,"img",34),f.Wb(),f.Wb(),f.Wb()),2&e){var i=f.hc().index,n=f.hc();f.Kb(1),f.kc("ngIf",n.slideInfo[i].correctFace==n.slideInfo[i].displayedFace),f.Kb(1),f.kc("ngIf",n.slideInfo[i].correctFace!=n.slideInfo[i].displayedFace),f.Kb(3),f.kc("src",n.slideInfo[i].correctFace,f.tc),f.Kb(2),f.kc("src",n.slideInfo[i].displayedFace,f.tc)}}function ti(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",36),f.Xb(1,"ion-button",37),f.fc("click",(function(){return f.sc(i),f.hc(2).selectFace(!0)})),f.wc(2,"Same"),f.Wb(),f.Xb(3,"ion-button",38),f.fc("click",(function(){return f.sc(i),f.hc(2).selectFace(!1)})),f.wc(4,"Different"),f.Wb(),f.Wb()}if(2&e){var n=f.hc().index,s=f.hc();f.kc("@fadeFooter",s.slideInfo[n].stage==s.Stage.SELECT?"sameDifferent":"invisible")}}function ii(e,t){if(1&e&&(f.Xb(0,"ion-item",39),f.Xb(1,"ion-label"),f.wc(2,"Swipe to Continue"),f.Wb(),f.Vb(3,"ion-icon",40),f.Wb()),2&e){var i=f.hc(2);f.kc("@fadeFooter",i.showFeedback()?"visible":"invisible")}}function ni(e,t){if(1&e&&(f.Xb(0,"ion-slide",12),f.vc(1,Dt,2,1,"div",13),f.vc(2,Vt,4,2,"div",13),f.vc(3,zt,2,0,"div",13),f.vc(4,Ht,2,0,"div",13),f.vc(5,Bt,2,0,"div",13),f.vc(6,Ut,2,0,"div",13),f.Xb(7,"div",14),f.vc(8,Jt,7,5,"div",15),f.Wb(),f.vc(9,ei,8,4,"div",16),f.vc(10,ti,5,1,"div",17),f.vc(11,ii,4,1,"ion-item",18),f.Wb()),2&e){var i=t.index,n=f.hc();f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.START),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.MEMORIZE),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.MASK),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.SELECT),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.CORRECT),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.INCORRECT),f.Kb(2),f.kc("ngIf",n.slideInfo[i].stage!=n.Stage.CORRECT&&n.slideInfo[i].stage!=n.Stage.INCORRECT),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.CORRECT||n.slideInfo[i].stage==n.Stage.INCORRECT),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage==n.Stage.SELECT),f.Kb(1),f.kc("ngIf",n.slideInfo[i].stage!=n.Stage.SELECT)}}var si,ci=function(e,t,i){return{default:e,success:t,failure:i}},ri=function(e){return e[e.START=0]="START",e[e.MEMORIZE=1]="MEMORIZE",e[e.MASK=2]="MASK",e[e.SELECT=3]="SELECT",e[e.CORRECT=4]="CORRECT",e[e.INCORRECT=5]="INCORRECT",e}({}),ai=((si=function(){function e(){_classCallCheck(this,e),this.finished=new f.s,this.Stage=ri,this.mask="assets/background_imgs/mask1.png",this.memorizeTime=3}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentSlide=0,this.progressPercent=0,this.score=0,this.changeScore=Object(R.h)(),this.taskLength=this.facePaths.length,this.slideInfo=[];for(var e=0;e<this.taskLength;e++){var t=this.facePaths[e];Math.random()>.5&&(t=this.facePaths[Math.floor(Math.random()*this.taskLength)]),this.slideInfo.push({correctFace:this.facePaths[e],displayedFace:t,selection:null,stage:ri.START})}}},{key:"ngAfterViewInit",value:function(){this.slideElement.lockSwipes(!0)}},{key:"ngOnDestroy",value:function(){this.interval&&this.interval.unsubscribe(),this.timer&&this.timer.unsubscribe()}},{key:"selectFace",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.slideInfo[this.currentSlide].stage==ri.SELECT&&(this.slideInfo[this.currentSlide].selection=e,this.timer=Object(o.a)(10).subscribe((function(){e==(i.slideInfo[i.currentSlide].displayedFace==i.slideInfo[i.currentSlide].correctFace)?(i.score++,i.slideInfo[i.currentSlide].stage=ri.CORRECT,i.changeScore=Object(R.h)().addElement(document.querySelectorAll(".score-change")).fill("none").duration(2e3).keyframes([{offset:0,transform:"translateY(0%)"},{offset:.05,transform:"translateY(100%)"},{offset:.1,transform:"translateY(200%)"},{offset:.3,transform:"translateY(200%)"},{offset:.5,transform:"translateY(200%)"},{offset:.7,transform:"translateY(200%)"},{offset:.9,transform:"translateY(200%)"},{offset:.95,transform:"translateY(100%)"},{offset:1,transform:"translateY(0%)"}]),i.changeScore.play()):i.slideInfo[i.currentSlide].stage=ri.INCORRECT,i.progressPercent=(i.currentSlide+1)/i.taskLength,i.slideElement.lockSwipes(!1),i.slideElement.lockSwipeToPrev(!0)})));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"startMemorizeTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining=this.memorizeTime,this.slideInfo[this.currentSlide].stage=ri.MEMORIZE,this.timer=Object(o.a)(1e3*this.timeRemaining).subscribe((function(){t.startMaskTimer()})),this.interval=Object(l.a)(1e3).pipe(y(Object(o.a)(1e3*this.timeRemaining))).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timeRemaining--;case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startMaskTimer",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(R.h)().addElement(document.querySelectorAll(".flipper")).fill("none").duration(2800).keyframes([{offset:0,transform:"rotateY(0deg)"},{offset:.15,transform:"rotateY(180deg)"},{offset:.85,transform:"rotateY(180deg)"},{offset:1,transform:"rotateY(0deg)"}]).play(),this.timer=Object(o.a)(400).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.slideInfo[this.currentSlide].stage=ri.MASK;case 1:case"end":return e.stop()}}),e,this)})))})),this.timer=Object(o.a)(2400).subscribe((function(){return Object(a.b)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.slideInfo[this.currentSlide].stage=ri.SELECT;case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getSrc",value:function(e){return this.slideInfo[e].stage==ri.MEMORIZE?this.slideInfo[e].correctFace:this.slideInfo[e].stage==ri.MASK?null:this.slideInfo[e].displayedFace}},{key:"showFeedback",value:function(){return!this.scoreCardDisplayed()&&(this.slideInfo[this.currentSlide].stage==ri.CORRECT||this.slideInfo[this.currentSlide].stage==ri.INCORRECT)}},{key:"scoreCardDisplayed",value:function(){return this.currentSlide>=this.taskLength}},{key:"changeSlide",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.slideElement.getActiveIndex();case 2:if(e.t0=e.sent,e.t1=this.currentSlide,e.t2=e.t0>e.t1,!e.t2){e.next=14;break}return e.next=8,this.slideElement.getActiveIndex();case 8:return this.currentSlide=e.sent,e.next=11,this.slideElement.lockSwipes(!0);case 11:return e.next=13,this.changeScore.stop();case 13:this.scoreCardDisplayed()||this.startMemorizeTimer();case 14:case"end":return e.stop()}}),e,this)})))}},{key:"drag",value:function(e){this.slideInfo[this.currentSlide].stage==ri.SELECT&&Array.from(document.getElementsByClassName("flipper"))[0].setAttribute("style","transform: translateX(".concat(e.deltaX,"px) translateY(-").concat(Math.abs(e.deltaX/2),"px) rotate(").concat(e.deltaX/3,"deg)"))}},{key:"returnCenter",value:function(e){Math.abs(e.velocityX)>.5?e.velocityX<0?(this.slideInfo[this.currentSlide].selection=!0,this.selectFace(!0)):(this.slideInfo[this.currentSlide].selection=!1,this.selectFace(!1)):Array.from(document.getElementsByClassName("flipper"))[0].setAttribute("style","transform: translateX(0px) transform: translateY(0px) transform: rotate(0px)")}}]),e}()).\u0275fac=function(e){return new(e||si)},si.\u0275cmp=f.Ob({type:si,selectors:[["app-same-different"]],viewQuery:function(e,t){var i;1&e&&f.Bc(Nt,!0),2&e&&f.qc(i=f.gc())&&(t.slideElement=i.first)},inputs:{facePaths:"facePaths"},outputs:{finished:"finished"},decls:9,vars:12,consts:[[3,"ngClass"],[2,"margin-top","0px",3,"value"],[4,"ngIf"],["class","overlay","button","",3,"click",4,"ngIf"],[3,"ionSlideDidChange"],["slideElement",""],["class","flex-slide",4,"ngFor","ngForOf"],[3,"score","length","assessment","finished"],[1,"score-banner"],[1,"score-change"],["button","",1,"overlay",3,"click"],[1,"overlay-content"],[1,"flex-slide"],["class","prompt",4,"ngIf"],[2,"perspective","500px"],["class","flipper large-card",3,"pan","panend",4,"ngIf"],["style","width: 100%; display: flex; flex-direction: column; justify-content: center",4,"ngIf"],["class","swipe-footer",4,"ngIf"],["class","footer","lines","none",4,"ngIf"],[1,"prompt"],[1,"time-left"],[1,"flipper","large-card",3,"pan","panend"],[1,"front"],["color","dark","name","arrow-back","style","font-size: 150%",3,"click",4,"ngIf"],["style","border-radius: 10%;",3,"src",4,"ngIf"],["color","dark","name","arrow-forward","style","font-size: 150%",3,"click",4,"ngIf"],[1,"back"],[2,"width","85%","border-radius","10%","backface-visibility","hidden","-webkit-backface-visibility","hidden",3,"src"],["color","dark","name","arrow-back",2,"font-size","150%",3,"click"],[2,"border-radius","10%",3,"src"],["color","dark","name","arrow-forward",2,"font-size","150%",3,"click"],[2,"width","100%","display","flex","flex-direction","column","justify-content","center"],["class","subheader",4,"ngIf"],[1,"grid-card",2,"--background","gainsboro"],[3,"src"],[1,"subheader"],[1,"swipe-footer"],["color","primary",3,"click"],["color","secondary",3,"click"],["lines","none",1,"footer"],["slot","end","color","dark","name","arrow-back"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Vb(1,"ion-progress-bar",1),f.vc(2,Yt,6,2,"span",2),f.vc(3,_t,3,1,"div",3),f.Xb(4,"ion-slides",4,5),f.fc("ionSlideDidChange",(function(){return t.changeSlide()})),f.vc(6,ni,12,10,"ion-slide",6),f.Xb(7,"ion-slide"),f.Xb(8,"app-score-page",7),f.fc("finished",(function(){return t.finished.emit([t.score,2])})),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.kc("ngClass",f.pc(8,ci,!t.showFeedback(),t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.CORRECT,t.showFeedback()&&t.slideInfo[t.currentSlide].stage==t.Stage.INCORRECT)),f.Kb(1),f.lc("value",t.progressPercent),f.Kb(1),f.kc("ngIf",!t.scoreCardDisplayed()),f.Kb(1),f.kc("ngIf",t.slideInfo[t.currentSlide].stage==t.Stage.START),f.Kb(3),f.kc("ngForOf",t.slideInfo),f.Kb(2),f.kc("score",t.score)("length",t.taskLength)("assessment",!0))},directives:[n.j,c.h,n.u,c.j,n.B,c.i,n.A,z,n.m,n.g,n.e,n.o,n.p],styles:[".swipe-footer[_ngcontent-%COMP%]{opacity:0;--background:grey;width:100%}"],data:{animation:[Object(X.k)("fadeInOut",[Object(X.h)("visible",Object(X.i)({opacity:.9})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)(":enter",[Object(X.e)(500)]),Object(X.j)(":leave",[Object(X.e)(500)])]),Object(X.k)("countdown",[Object(X.j)("active <=> inactive",[Object(X.e)(200,Object(X.f)([Object(X.i)({transform:"translateY(0%)",opacity:"1"}),Object(X.i)({transform:"translateY(75%)",opacity:"0"}),Object(X.i)({transform:"translateY(-75%)",opacity:"0"}),Object(X.i)({transform:"translateY(0%)",opacity:"1"})]))])]),Object(X.k)("fadeFooter",[Object(X.h)("visible",Object(X.i)({opacity:.75})),Object(X.h)("sameDifferent",Object(X.i)({opacity:1})),Object(X.h)("invisible",Object(X.i)({opacity:0})),Object(X.j)("void => visible",[Object(X.e)(1500,Object(X.f)([Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:"0"}),Object(X.i)({opacity:".75"})]))]),Object(X.j)("void => sameDifferent",[Object(X.e)(500)]),Object(X.j)("visible => invisible",[Object(X.e)(200)])]),Object(X.k)("swipeCard",[Object(X.j)("right => void",[Object(X.e)(200,Object(X.f)([Object(X.i)({transform:"*",position:"absolute",zIndex:"21"}),Object(X.i)({transform:"translateY(-50%) translateX(100%) rotate(100deg)",position:"absolute",zIndex:"21"})]))]),Object(X.j)("left => void",[Object(X.e)(200,Object(X.f)([Object(X.i)({transform:"*",position:"absolute",zIndex:"21"}),Object(X.i)({transform:"translateY(-50%) translateX(-100%) rotate(-100deg)",position:"absolute",zIndex:"21"})]))])])]}}),si);function oi(e,t){1&e&&(f.Xb(0,"ion-buttons",12),f.Vb(1,"ion-menu-button",13),f.Wb())}function li(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",14),f.fc("click",(function(){return f.sc(i),f.hc().taskExitAlert()})),f.Wb()}}function fi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"ion-icon",15),f.fc("click",(function(){return f.sc(i),f.hc().getHelp(!1)})),f.Wb()}}function hi(e,t){1&e&&(f.Xb(0,"div",16),f.Vb(1,"ion-spinner",17),f.Wb())}function di(e,t){if(1&e&&(f.Xb(0,"div"),f.Xb(1,"div",25),f.Xb(2,"b"),f.wc(3),f.Wb(),f.Wb(),f.Xb(4,"div",26),f.wc(5,"Are you ready to train?"),f.Wb(),f.Wb()),2&e){var i=f.hc(3);f.Kb(3),f.yc("Level ",i.userLevel,"")}}function ui(e,t){1&e&&(f.Xb(0,"div"),f.Xb(1,"div",27),f.Xb(2,"b"),f.wc(3,"Pre-Assessment"),f.Wb(),f.Wb(),f.Xb(4,"div",26),f.wc(5,"It looks like you're new, are you ready to begin your pretest?"),f.Wb(),f.Wb())}function bi(e,t){1&e&&(f.Xb(0,"div"),f.Xb(1,"div",27),f.Xb(2,"b"),f.wc(3,"Post-Assessment"),f.Wb(),f.Wb(),f.Xb(4,"div",26),f.wc(5,"It looks like you've completed all eight levels, are you ready to begin your post-test?"),f.Wb(),f.Wb())}function gi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",22),f.vc(1,di,6,1,"div",23),f.vc(2,ui,6,0,"div",23),f.vc(3,bi,6,0,"div",23),f.Vb(4,"br"),f.Xb(5,"ion-button",24),f.fc("click",(function(){return f.sc(i),f.hc(2).clickStart()})),f.wc(6,"Start"),f.Wb(),f.Wb()}if(2&e){var n=f.hc(2);f.Kb(1),f.kc("ngIf",n.userLevel>0&&n.userLevel<9),f.Kb(1),f.kc("ngIf",0==n.userLevel),f.Kb(1),f.kc("ngIf",9==n.userLevel)}}function mi(e,t){if(1&e&&(f.Xb(0,"span"),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.zc(": ",i.scores[i.Task.NAME_FACE],"/",i.taskLengths[i.Task.NAME_FACE],"")}}function vi(e,t){if(1&e&&(f.Xb(0,"span"),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.zc(": ",i.scores[i.Task.WHOS_NEW],"/",i.taskLengths[i.Task.WHOS_NEW],"")}}function pi(e,t){if(1&e&&(f.Xb(0,"span"),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.zc(": ",i.scores[i.Task.MEMORY],"/",i.taskLengths[i.Task.MEMORY],"")}}function ki(e,t){if(1&e&&(f.Xb(0,"span"),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.zc(": ",i.scores[i.Task.SHUFFLE],"/",i.taskLengths[i.Task.SHUFFLE],"")}}var Si=function(e,t){return{"task-done":e,"task-failed":t}};function Oi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",28),f.Xb(1,"div",29),f.wc(2,"What would you like to do next?"),f.Wb(),f.Xb(3,"ion-card",30),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return-1==e.scores[e.Task.NAME_FACE]&&e.renderLevelOneHelp(),e.task=e.Task.NAME_FACE})),f.Vb(4,"ion-icon",31),f.Xb(5,"div"),f.wc(6,"Name and Face"),f.vc(7,mi,2,2,"span",23),f.Wb(),f.Wb(),f.Xb(8,"ion-card",30),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return-1==e.scores[e.Task.WHOS_NEW]&&e.renderLevelOneHelp(),e.task=e.Task.WHOS_NEW})),f.Vb(9,"ion-icon",32),f.Xb(10,"div"),f.wc(11,"Who's New"),f.vc(12,vi,2,2,"span",23),f.Wb(),f.Wb(),f.Xb(13,"ion-card",30),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return-1==e.scores[e.Task.MEMORY]&&e.renderLevelOneHelp(),e.task=e.Task.MEMORY})),f.Vb(14,"ion-icon",33),f.Xb(15,"div"),f.wc(16,"Memory Match"),f.vc(17,pi,2,2,"span",23),f.Wb(),f.Wb(),f.Xb(18,"ion-card",30),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return-1==e.scores[e.Task.SHUFFLE]&&e.renderLevelOneHelp(),e.task=e.Task.SHUFFLE})),f.Vb(19,"ion-icon",34),f.Xb(20,"div"),f.wc(21,"Shuffle"),f.vc(22,ki,2,2,"span",23),f.Wb(),f.Wb(),f.Xb(23,"ion-button",35),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return e.task=e.Task.LEARNING})),f.Vb(24,"ion-icon",36),f.wc(25," \xa0 "),f.Vb(26,"ion-icon",36),f.Wb(),f.Xb(27,"ion-button",37),f.fc("click",(function(){return f.sc(i),f.hc(2).startAssessmentAlert()})),f.Vb(28,"ion-icon",36),f.Wb(),f.Wb()}if(2&e){var n=f.hc(2);f.Kb(3),f.kc("ngClass",f.oc(12,Si,n.scores[n.Task.NAME_FACE]>=n.taskLengths[n.Task.NAME_FACE]*n.minTrainScore,n.scores[n.Task.NAME_FACE]>-1&&n.scores[n.Task.NAME_FACE]<n.taskLengths[n.Task.NAME_FACE]*n.minTrainScore)),f.Kb(4),f.kc("ngIf",n.scores[n.Task.NAME_FACE]>-1),f.Kb(1),f.kc("ngClass",f.oc(15,Si,n.scores[n.Task.WHOS_NEW]>=n.taskLengths[n.Task.WHOS_NEW]*n.minTrainScore,n.scores[n.Task.WHOS_NEW]>-1&&n.scores[n.Task.WHOS_NEW]<n.taskLengths[n.Task.WHOS_NEW]*n.minTrainScore)),f.Kb(4),f.kc("ngIf",n.scores[n.Task.WHOS_NEW]>-1),f.Kb(1),f.kc("ngClass",f.oc(18,Si,n.scores[n.Task.MEMORY]>=n.taskLengths[n.Task.MEMORY]*n.minTrainScore,n.scores[n.Task.MEMORY]>-1&&n.scores[n.Task.MEMORY]<n.taskLengths[n.Task.MEMORY]*n.minTrainScore)),f.Kb(4),f.kc("ngIf",n.scores[n.Task.MEMORY]>-1),f.Kb(1),f.kc("ngClass",f.oc(21,Si,n.scores[n.Task.SHUFFLE]>=n.taskLengths[n.Task.SHUFFLE]*n.minTrainScore,n.scores[n.Task.SHUFFLE]>-1&&n.scores[n.Task.SHUFFLE]<n.taskLengths[n.Task.SHUFFLE]*n.minTrainScore)),f.Kb(4),f.kc("ngIf",n.scores[n.Task.SHUFFLE]>-1),f.Kb(2),f.kc("src",n.replay_icon),f.Kb(2),f.kc("src",n.face_icon),f.Kb(1),f.kc("disabled",n.trainingNotDone()),f.Kb(1),f.kc("src",n.assessment_icon)}}function wi(e,t){if(1&e&&(f.Xb(0,"span"),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.zc(": ",i.scores[i.Task.FORCED_CHOICE],"/",i.taskLengths[i.Task.FORCED_CHOICE],"")}}function Ii(e,t){if(1&e&&(f.Xb(0,"span"),f.wc(1),f.Wb()),2&e){var i=f.hc(3);f.Kb(1),f.zc(": ",i.scores[i.Task.SAME_DIFFERENT],"/",i.taskLengths[i.Task.SAME_DIFFERENT],"")}}var yi=function(e){return{"task-done":e}};function Ci(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div",28),f.Xb(1,"div",29),f.wc(2,"What would you like to do next?"),f.Wb(),f.Xb(3,"ion-card",30),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return-1==e.scores[4]&&(e.task=e.Task.FORCED_CHOICE),e.renderLevelOneHelp()})),f.Vb(4,"ion-icon",38),f.Xb(5,"div"),f.wc(6,"Forced Choice"),f.vc(7,wi,2,2,"span",23),f.Wb(),f.Wb(),f.Xb(8,"ion-card",30),f.fc("click",(function(){f.sc(i);var e=f.hc(2);return-1==e.scores[5]&&(e.task=e.Task.SAME_DIFFERENT),e.renderLevelOneHelp()})),f.Vb(9,"ion-icon",39),f.Xb(10,"div"),f.wc(11,"Same Different"),f.vc(12,Ii,2,2,"span",23),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.hc(2);f.Kb(3),f.kc("ngClass",f.nc(4,yi,-1!=n.scores[4])),f.Kb(4),f.kc("ngIf",n.scores[4]>-1),f.Kb(1),f.kc("ngClass",f.nc(6,yi,-1!=n.scores[5])),f.Kb(4),f.kc("ngIf",n.scores[5]>-1)}}function Ei(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div"),f.Xb(1,"div",26),f.wc(2,"You've entered level 1! Tap to begin your training."),f.Wb(),f.Xb(3,"ion-button",24),f.fc("click",(function(){return f.sc(i),f.hc(4).initCurrentLevel()})),f.wc(4,"Train"),f.Wb(),f.Wb()}2&e&&f.kc("@fadeIn",void 0)}function Ti(e,t){1&e&&(f.Xb(0,"div"),f.Xb(1,"div",26),f.wc(2,"You've moved on to the next level! Come back tomorrow for your next training."),f.Wb(),f.Xb(3,"ion-button",46),f.wc(4,"Home"),f.Wb(),f.Wb()),2&e&&f.kc("@fadeIn",void 0)}function Ri(e,t){if(1&e){var i=f.Yb();f.Xb(0,"div"),f.Xb(1,"div",26),f.wc(2,"You've completed all eight levels! Now it's time for your post-assessment."),f.Wb(),f.Xb(3,"ion-button",24),f.fc("click",(function(){return f.sc(i),f.hc(4).initCurrentLevel()})),f.wc(4,"Post-Assessment"),f.Wb(),f.Wb()}2&e&&f.kc("@fadeIn",void 0)}function Fi(e,t){if(1&e&&(f.Xb(0,"div",42),f.Xb(1,"div",25),f.Xb(2,"b"),f.wc(3,"Finished!"),f.Wb(),f.Wb(),f.Vb(4,"ion-progress-bar",43),f.Xb(5,"div",44),f.wc(6,"Level "),f.Xb(7,"span",45),f.wc(8),f.Wb(),f.Wb(),f.vc(9,Ei,5,1,"div",23),f.vc(10,Ti,5,1,"div",23),f.vc(11,Ri,5,1,"div",23),f.Wb()),2&e){var i=f.hc(3);f.Kb(4),f.lc("value",i.progress),f.Kb(4),f.xc(i.userLevel),f.Kb(1),f.kc("ngIf",1==i.userLevel),f.Kb(1),f.kc("ngIf",i.userLevel>0&&i.userLevel<9),f.Kb(1),f.kc("ngIf",9==i.userLevel)}}function Wi(e,t){1&e&&(f.Xb(0,"div"),f.Xb(1,"div",25),f.Xb(2,"b"),f.wc(3,"You're all done."),f.Wb(),f.Wb(),f.Xb(4,"div",26),f.wc(5,"Since you've completed all eight levels and the post assessment, you don't have anything else to do! Thank you for your participation in this research."),f.Wb(),f.Xb(6,"ion-button",46),f.wc(7,"Home"),f.Wb(),f.Wb())}function xi(e,t){if(1&e&&(f.Xb(0,"div",40),f.vc(1,Fi,12,5,"div",41),f.vc(2,Wi,8,0,"div",23),f.Wb()),2&e){var i=f.hc(2);f.Kb(1),f.kc("ngIf",i.userLevel<=9),f.Kb(1),f.kc("ngIf",i.userLevel>9)}}function ji(e,t){if(1&e&&(f.Xb(0,"div",18),f.vc(1,gi,7,3,"div",19),f.vc(2,Oi,29,24,"div",20),f.vc(3,Ci,13,8,"div",20),f.vc(4,xi,3,2,"div",21),f.Wb()),2&e){var i=f.hc();f.Kb(1),f.kc("ngIf",i.stage==i.Stage.START),f.Kb(1),f.kc("ngIf",i.stage==i.Stage.TRAINING),f.Kb(1),f.kc("ngIf",i.stage==i.Stage.ASSESSMENT),f.Kb(1),f.kc("ngIf",i.stage==i.Stage.DONE)}}function Xi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-learning-task",47),f.fc("finished",(function(){f.sc(i);var e=f.hc();return e.learningDone=!0,e.iterateStage()})),f.Wb()}if(2&e){var n=f.hc();f.kc("setNames",n.setNames)("facePaths",n.trainingFacePaths)}}function Mi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-name-face",47),f.fc("finished",(function(e){return f.sc(i),f.hc().finished(e,0)})),f.Wb()}if(2&e){var n=f.hc();f.kc("setNames",n.setNames)("facePaths",n.trainingFacePaths)}}function Ki(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-whos-new",48),f.fc("finished",(function(e){return f.sc(i),f.hc().finished(e,1)})),f.Wb()}if(2&e){var n=f.hc();f.kc("facePaths",n.trainingFacePaths)("newFacePaths",n.whosNewFacePaths)}}function Ai(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-memory-match",49),f.fc("finished",(function(e){return f.sc(i),f.hc().finished(e,2)})),f.Wb()}if(2&e){var n=f.hc();f.kc("facePaths",n.trainingFacePaths)}}function Pi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-shuffle",49),f.fc("finished",(function(e){return f.sc(i),f.hc().finished(e,3)})),f.Wb()}if(2&e){var n=f.hc();f.kc("facePaths",n.trainingFacePaths)}}function Li(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-forced-choice",49),f.fc("finished",(function(e){return f.sc(i),f.hc().finished(e,4)})),f.Wb()}if(2&e){var n=f.hc();f.kc("facePaths",n.assessmentFacePaths)}}function Ni(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-same-different",49),f.fc("finished",(function(e){return f.sc(i),f.hc().finished(e,5)})),f.Wb()}if(2&e){var n=f.hc();f.kc("facePaths",n.assessmentFacePaths)}}function Yi(e,t){if(1&e){var i=f.Yb();f.Xb(0,"app-same-different",49),f.fc("finished",(function(e){return f.sc(i),f.hc().finishPrePost(e)})),f.Wb()}if(2&e){var n=f.hc();f.kc("facePaths",n.assessmentFacePaths)}}var _i,Di,Vi=function(e){return{"blue-border":e}},zi=function(e){return e[e.BLACK=0]="BLACK",e[e.ASIAN=1]="ASIAN",e}({}),Hi=function(e){return e[e.START=0]="START",e[e.TRAINING=1]="TRAINING",e[e.ASSESSMENT=2]="ASSESSMENT",e[e.DONE=3]="DONE",e}({}),Bi=function(e){return e[e.NAME_FACE=0]="NAME_FACE",e[e.WHOS_NEW=1]="WHOS_NEW",e[e.MEMORY=2]="MEMORY",e[e.SHUFFLE=3]="SHUFFLE",e[e.FORCED_CHOICE=4]="FORCED_CHOICE",e[e.SAME_DIFFERENT=5]="SAME_DIFFERENT",e[e.PRETEST=6]="PRETEST",e[e.POSTTEST=7]="POSTTEST",e[e.LEARNING=8]="LEARNING",e}({}),Ui={0:{race:zi.BLACK,namePool:{1:["James","John","Robert","Michael","Will","David","Richard","Joseph"],2:["Thomas","Charlie","Chris","Daniel","Matthew","Anthony","Don","Mark"],3:["Paul","Steven","Andrew","Ken","Joshua","George","Kevin","Brian"],4:["Edward","Ron","Tim","Jason","Jeff","Ryan","Jacob","Gary"],5:["Nick","Eric","Stephen","Jonathan","Larry","Justin","Scott","Brandon"],6:["Frank","Ben","Greg","Sam","Ray","Patrick","Alex","Jack"],7:["Dennis","Jerry","Tyler","Aaron","Jose","Henry","Doug","Adam"],8:["Peter","Nathan","Zach","Walter","Kyle","Harry","Carl","Jeremy"]}}},qi=((Di=function(){function e(t,i,n,s,c,r,a,o){_classCallCheck(this,e),this.alertController=t,this.modalController=i,this.routerOutlet=n,this.getProgress=s,this.submitScores=c,this.toastController=r,this.localNotifications=a,this.http=o,this.Race=zi,this.Stage=Hi,this.Task=Bi,this.stage=null,this.task=null,this.learningDone=!1,this.scores=[-1,-1,-1,-1,-1,-1],this.minTrainScore=.75,this.taskLengths=[8,8,32,16,8,8],this.numFaces=8,this.assessmentPoolSize=30,this.assessment_icon="assets/icon/assessment.svg",this.replay_icon="assets/icon/replay.svg",this.face_icon="assets/icon/face.svg",this.routerOutlet.swipeGesture=!1}return _createClass(e,[{key:"ionViewWillEnter",value:function(){var e=this;this.stage=null,this.task=null,Object(o.a)(500).subscribe((function(){e.currentRace=zi.BLACK,e.initCurrentLevel()}))}},{key:"ngAfterViewInit",value:function(){var e=this;0==this.userLevel&&Object(o.a)(500).subscribe((function(){e.getHelp(!0)}))}},{key:"initCurrentLevel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi.BLACK;this.currentRace=t,this.getProgress.getData().subscribe((function(t){var i=t.days;e.userLevel=t.level;var n=!1;if(0==e.userLevel||9==e.userLevel)e.getPrePostAssessmentFaces().then((function(t){e.assessmentFacePaths=t,Object(o.a)(1e3).subscribe((function(){e.stage=Hi.START}))}));else if(e.userLevel>0&&e.userLevel<9){var s=(new Date).toLocaleDateString(),c="";for(var r in i)[i[r].nameface,i[r].whosnew,i[r].memory,i[r].shuffle,i[r].forcedchoice,i[r].samedifferent].indexOf(-1)<0&&(c=new Date(i[r].date).toLocaleDateString());s==c&&(n=!0),n?(e.userLevel--,e.finishLevel()):(e.setNames=Ui[e.currentRace].namePool[e.userLevel],e.getTrainingFaces().then((function(t){e.trainingFacePaths=t,e.getWhosNewFaces().then((function(t){e.whosNewFacePaths=t,e.getDailyAssessmentFaces().then((function(t){e.assessmentFacePaths=t,i[e.userLevel-1]&&(e.scores=[i[e.userLevel-1].nameface,i[e.userLevel-1].whosnew,i[e.userLevel-1].memory,i[e.userLevel-1].shuffle,i[e.userLevel-1].forcedchoice,i[e.userLevel-1].samedifferent],e.learningDone=e.scores.indexOf(-1)>-1),Object(o.a)(1e3).subscribe((function(){e.iterateStage()}))}))}))})))}else e.stage=Hi.DONE;var a=[];a.push(new Image),a[a.length-1].src="assets/background_imgs/mask1.png"}),(function(t){return Object(a.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"Something went wrong. Please try logging out and back in",color:"danger",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}))}},{key:"iterateStage",value:function(){this.task=null,this.learningDone?this.trainingNotDone()?(this.stage=Hi.TRAINING,-1==this.scores[Bi.NAME_FACE]&&-1==this.scores[Bi.WHOS_NEW]&&-1==this.scores[Bi.MEMORY]&&-1==this.scores[Bi.SAME_DIFFERENT]&&this.renderLevelOneHelp()):this.scores.includes(-1)?(this.stage=Hi.ASSESSMENT,-1==this.scores[Bi.FORCED_CHOICE]&&-1==this.scores[Bi.SAME_DIFFERENT]&&this.renderLevelOneHelp()):(this.finishLevel(),this.scheduleNotification()):this.stage=Hi.START}},{key:"getTitle",value:function(){switch(this.task){case null:switch(this.stage){case Hi.START:return"Start";case Hi.TRAINING:return"Training Tasks";case Hi.ASSESSMENT:return"Assessment Tasks";case Hi.DONE:return"Finish";default:return"Modules"}case Bi.LEARNING:return"Meet Today's Faces";case Bi.NAME_FACE:return"Name and Face";case Bi.WHOS_NEW:return"Who's New?";case Bi.MEMORY:return"Memory Match";case Bi.SHUFFLE:return"Shuffle";case Bi.FORCED_CHOICE:return"Forced Choice";case Bi.SAME_DIFFERENT:return"Same-Different";case Bi.PRETEST:return"Pre-Assessment";case Bi.POSTTEST:return"Post-Assessment";default:return"Modules"}}},{key:"getHelp",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:O,componentProps:{paramTask:this.getTitle(),displayFirst:e}});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"renderLevelOneHelp",value:function(){var e=this;1==this.userLevel&&Object(o.a)(500).subscribe((function(){e.getHelp(!0)}))}},{key:"getTrainingFaces",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,n,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],i=!0,n=0;case 2:if(!(n<8)){e.next=11;break}if(s=sessionStorage.getItem("training"+n)){e.next=7;break}return i=!1,e.abrupt("break",11);case 7:t.push(s);case 8:n++,e.next=2;break;case 11:if(i){e.next=16;break}return t=[],c={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},e.next=16,this.http.put("https://crossfacerecognition.herokuapp.com/getTrainingFaces/",{level:this.userLevel},c).subscribe((function(e){for(var i=0;i<8;i++)t.push("data:image/png;base64,"+e.images[i]),sessionStorage.setItem("training"+i,"data:image/png;base64,"+e.images[i])}));case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)})))}},{key:"getWhosNewFaces",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],i={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},e.next=4,this.http.put("https://crossfacerecognition.herokuapp.com/getWhosNewFaces/",{level:this.userLevel},i).subscribe((function(e){for(var i=0;i<8;i++)t.push("data:image/png;base64,"+e.images[i])}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getDailyAssessmentFaces",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,n,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],i=!0,n=0;case 2:if(!(n<8)){e.next=11;break}if(s=sessionStorage.getItem("dailyAssessment"+n)){e.next=7;break}return i=!1,e.abrupt("break",11);case 7:t.push(s);case 8:n++,e.next=2;break;case 11:if(i){e.next=16;break}return t=[],c={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},e.next=16,this.http.put("https://crossfacerecognition.herokuapp.com/getDailyAssessmentFaces/",{},c).subscribe((function(e){for(var i=0;i<8;i++)t.push("data:image/jpg;base64,"+e.images[i]),sessionStorage.setItem("dailyAssessment"+i,"data:image/jpg;base64,"+e.images[i])}));case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)})))}},{key:"getPrePostAssessmentFaces",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],i={headers:new W.c({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")})},e.next=4,this.http.put("https://crossfacerecognition.herokuapp.com/getPrePostAssessmentFaces/",{},i).subscribe((function(e){for(var i=0;i<30;i++)t.push("data:image/jpg;base64,"+e.images[i])}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"finished",value:function(e,t){this.scores[t]=Math.max(e[0],this.scores[t]),0!=e[1]&&(this.task=1==e[1]?Bi.LEARNING:null,4!=t&&5!=t||this.iterateStage()),this.submitScores.submitTaskScores(this.userLevel,this.scores)}},{key:"finishPrePost",value:function(e){0==this.userLevel?this.submitScores.submitPreAssessment(e[0]):9==this.userLevel&&this.submitScores.submitPostAssessment(e[0]),this.finishLevel()}},{key:"taskExitAlert",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Quit",message:"Do you want to quit? Your progress on this task will be lost.",buttons:[{text:"Cancel"},{text:"Quit",handler:function(){Object(o.a)(500).subscribe((function(){i.task=null}))}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"startAssessmentAlert",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Assessment",message:"Do you want to move on to the assessment? You will not be able to come back to training today.",buttons:[{text:"Cancel"},{text:"Go",handler:function(){Object(o.a)(500).subscribe((function(){i.iterateStage()}))}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"clickStart",value:function(){var e=this;0==this.userLevel?(this.task=Bi.PRETEST,Object(o.a)(500).subscribe((function(){e.getHelp(!0)}))):9==this.userLevel?this.task=Bi.POSTTEST:this.userLevel>0&&this.userLevel<9&&(this.task=Bi.LEARNING,this.renderLevelOneHelp())}},{key:"finishLevel",value:function(){var e=this;this.stage=Hi.DONE;var t=this.task;this.task=null,t!=Bi.POSTTEST?(this.progress=0,Object(o.a)(1200).subscribe((function(){return Object(a.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userLevel++,t=Object(R.h)().addElement(document.querySelector(".level")).fill("none").duration(500).keyframes([{offset:0,transform:"scale(1, 1)"},{offset:.5,transform:"scale(2, 2)"},{offset:1,transform:"scale(1, 1)"}]),e.next=4,t.play();case 4:case"end":return e.stop()}}),e,this)})))})),Object(l.a)(100).pipe(y(Object(o.a)(1100))).subscribe((function(){e.progress+=.1}))):this.userLevel++}},{key:"trainingNotDone",value:function(){return this.scores[Bi.NAME_FACE]<this.taskLengths[Bi.NAME_FACE]*this.minTrainScore||this.scores[Bi.WHOS_NEW]<this.taskLengths[Bi.WHOS_NEW]*this.minTrainScore||this.scores[Bi.MEMORY]<this.taskLengths[Bi.MEMORY]*this.minTrainScore||this.scores[Bi.SHUFFLE]<this.taskLengths[Bi.SHUFFLE]*this.minTrainScore}},{key:"scheduleNotification",value:function(){var e=new Date;e.setMinutes(0),e.setSeconds(0),e.setHours(8),e.setDate(e.getDate()+1),this.localNotifications.schedule({id:1,text:"You're next training is now available!",foreground:!0,trigger:{at:e}})}}]),e}()).\u0275fac=function(e){return new(e||Di)(f.Ub(n.a),f.Ub(n.I),f.Ub(n.w),f.Ub(F.a),f.Ub(x),f.Ub(n.P),f.Ub(j.a),f.Ub(W.a))},Di.\u0275cmp=f.Ob({type:Di,selectors:[["app-training"]],decls:46,vars:17,consts:[[2,"--background","gray","height","100%"],[3,"ngClass"],["slot","start",4,"ngIf"],["slot","start","color","medium","name","arrow-back","style","margin-left: 1vw; height: 3vh",3,"click",4,"ngIf"],["slot","end","color","medium","name","help-circle","style","margin-right: 1vw; height: 3vh",3,"click",4,"ngIf"],["style","height: 90%; display: flex; justify-content: center; align-items: center",4,"ngIf"],["style","color: white; text-align: center",4,"ngIf"],[3,"setNames","facePaths","finished",4,"ngIf"],[3,"facePaths","newFacePaths","finished",4,"ngIf"],[3,"facePaths","finished",4,"ngIf"],[2,"text-align","center"],[3,"click"],["slot","start"],["autoHide","false"],["slot","start","color","medium","name","arrow-back",2,"margin-left","1vw","height","3vh",3,"click"],["slot","end","color","medium","name","help-circle",2,"margin-right","1vw","height","3vh",3,"click"],[2,"height","90%","display","flex","justify-content","center","align-items","center"],["name","crescent","color","light"],[2,"color","white","text-align","center"],["style","margin-top: 50%",4,"ngIf"],["style","margin-top: 20px",4,"ngIf"],["style","margin-top: 40%",4,"ngIf"],[2,"margin-top","50%"],[4,"ngIf"],["color","success",3,"click"],[1,"header",2,"margin","5%"],[1,"subheader",2,"margin","5%"],[1,"header"],[2,"margin-top","20px"],[2,"font-size","6vw"],["button","",3,"ngClass","click"],["slot","start","name","happy",2,"font-size","300%"],["slot","start","name","person-add",2,"font-size","300%"],["slot","start","name","grid",2,"font-size","300%"],["slot","start","name","swap",2,"font-size","300%"],[2,"padding","0","margin","1%",3,"click"],[3,"src"],[2,"padding","0","margin","1%",3,"disabled","click"],["slot","start","name","checkmark-circle",2,"font-size","300%"],["slot","start","name","contacts",2,"font-size","300%"],[2,"margin-top","40%"],["style","display: flex; flex-direction: column; justify-content: center; align-items: center",4,"ngIf"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center"],[2,"width","80%",3,"value"],[2,"margin-top","5%","font-size","4vh"],[1,"level"],["color","success","routerLink","/dashboard","routerDirection","forward"],[3,"setNames","facePaths","finished"],[3,"facePaths","newFacePaths","finished"],[3,"facePaths","finished"]],template:function(e,t){1&e&&(f.Xb(0,"ion-content",0),f.Xb(1,"ion-header"),f.Xb(2,"ion-toolbar",1),f.Xb(3,"ion-title"),f.wc(4),f.Wb(),f.vc(5,oi,2,0,"ion-buttons",2),f.vc(6,li,1,0,"ion-icon",3),f.vc(7,fi,1,0,"ion-icon",4),f.Wb(),f.Wb(),f.vc(8,hi,2,0,"div",5),f.vc(9,ji,5,4,"div",6),f.vc(10,Xi,1,2,"app-learning-task",7),f.vc(11,Mi,1,2,"app-name-face",7),f.vc(12,Ki,1,2,"app-whos-new",8),f.vc(13,Ai,1,1,"app-memory-match",9),f.vc(14,Pi,1,1,"app-shuffle",9),f.vc(15,Li,1,1,"app-forced-choice",9),f.vc(16,Ni,1,1,"app-same-different",9),f.vc(17,Yi,1,1,"app-same-different",9),f.wc(18," For development only "),f.Xb(19,"div",10),f.Vb(20,"br"),f.Vb(21,"br"),f.Vb(22,"br"),f.Vb(23,"br"),f.Vb(24,"br"),f.Vb(25,"br"),f.Vb(26,"br"),f.Vb(27,"br"),f.Vb(28,"br"),f.Vb(29,"br"),f.Vb(30,"br"),f.Vb(31,"br"),f.Xb(32,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.LEARNING})),f.wc(33,"Learning"),f.Wb(),f.Xb(34,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.NAME_FACE})),f.wc(35,"Name and Face"),f.Wb(),f.Xb(36,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.WHOS_NEW})),f.wc(37,"Who's New"),f.Wb(),f.Xb(38,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.MEMORY})),f.wc(39,"Memory"),f.Wb(),f.Xb(40,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.SHUFFLE})),f.wc(41,"Shuffle"),f.Wb(),f.Xb(42,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.FORCED_CHOICE})),f.wc(43,"Forced Choice"),f.Wb(),f.Xb(44,"ion-button",11),f.fc("click",(function(){return t.task=t.Task.SAME_DIFFERENT})),f.wc(45,"Same Different"),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Kb(2),f.kc("ngClass",f.nc(15,Vi,null==t.task)),f.Kb(2),f.xc(t.getTitle()),f.Kb(1),f.kc("ngIf",null==t.task),f.Kb(1),f.kc("ngIf",null!=t.task&&t.task!=t.Task.FORCED_CHOICE&&t.task!=t.Task.SAME_DIFFERENT&&t.task!=t.Task.PRETEST&&t.task!=t.Task.POSTTEST),f.Kb(1),f.kc("ngIf",t.userLevel<=9),f.Kb(1),f.kc("ngIf",null==t.stage),f.Kb(1),f.kc("ngIf",null==t.task),f.Kb(1),f.kc("ngIf",t.task==t.Task.LEARNING),f.Kb(1),f.kc("ngIf",t.task==t.Task.NAME_FACE),f.Kb(1),f.kc("ngIf",t.task==t.Task.WHOS_NEW),f.Kb(1),f.kc("ngIf",t.task==t.Task.MEMORY),f.Kb(1),f.kc("ngIf",t.task==t.Task.SHUFFLE),f.Kb(1),f.kc("ngIf",t.task==t.Task.FORCED_CHOICE),f.Kb(1),f.kc("ngIf",t.task==t.Task.SAME_DIFFERENT),f.Kb(1),f.kc("ngIf",t.task==t.Task.PRETEST||t.task==t.Task.POSTTEST))},directives:[n.j,n.l,n.F,c.h,n.D,c.j,n.e,n.f,n.s,n.m,n.C,n.g,n.u,n.M,s.h,N,re,Oe,qe,kt,Lt,ai],styles:[".task-done[_ngcontent-%COMP%]{--background:#8ecf8e!important;color:#000}.task-failed[_ngcontent-%COMP%]{--background:#c98b8b!important;color:#000}.blue-border[_ngcontent-%COMP%]{border-bottom:solid #1e90ff}.fade-in[_ngcontent-%COMP%], .level[_ngcontent-%COMP%]{display:inline-block}.fade-in[_ngcontent-%COMP%]{opacity:0}ion-card[_ngcontent-%COMP%]{--background:#dcdcdc;color:#1e90ff;border-radius:6vh;margin-top:5vh;margin-bottom:5vh;padding-top:1vh;padding-bottom:1vh;font-size:2.2vh;height:11vh}ion-button[_ngcontent-%COMP%]{text-transform:none!important;height:8vh;font-size:3vh}"],data:{animation:[Object(X.k)("fadeIn",[Object(X.j)(":enter",[Object(X.e)(2800,Object(X.f)([Object(X.i)({offset:0,opacity:"0"}),Object(X.i)({offset:.7,opacity:"0"}),Object(X.i)({offset:1,opacity:"1"})]))])])]}}),Di),Zi=((_i=function e(){_classCallCheck(this,e)}).\u0275mod=f.Sb({type:_i}),_i.\u0275inj=f.Rb({factory:function(e){return new(e||_i)},providers:[j.a],imports:[[n.G,c.b,r.d,r.i,s.i.forChild([{path:"",component:qi}])]]}),_i)}}]);